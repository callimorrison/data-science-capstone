{
    "cells": [
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "![StarbucksLogo](https://1.bp.blogspot.com/_XNcy9gUJEO8/SYKFrKAswII/AAAAAAAADNw/PxYcN9KiBVw/w1200-h630-p-k-no-nu/starbucks_img.jpg)"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "# Capstone Project - Which City has the Best Starbucks?\n### Applied Capstone - IBM Data Science Professional Certificate"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Table of Contents\n\n* Introduction: Business Problem \n* Data \n* Methodology\n* Results and Discussion\n* Conclusion"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "\n## Introduction: Business Problem"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "As the drink has become increasingly popular within the last several decades, the coffee market has grown exponentially in the United States. In 2018, WalletHub conducted a survey to find the [best city for coffee in America](https://wallethub.com/edu/best-cities-for-coffee-lovers/23739/ 'best city for coffee in America'). The survey found **Seattle** ranked #1 and **New York** coming in as #2. \n\nAlthough Seattle is known as the birthplace of [second wave coffee](https://www.craftbeveragejobs.com/the-history-of-first-second-and-third-wave-coffee-22315/ 'second-wave coffee'), New York is the largest city in the U.S. and hosts a wide variety of coffee shops, including several iconic craft coffee brands. \n\nFor the objective of this project, we will be focusing on the corporate giant [Starbucks](https://www.starbucks.com/ 'Starbucks'). We will be comparing store locations between both of the cities' downtown areas. This project is aimed towards corporate stakeholders interested in insight for their stores in these U.S. coffee hot spots.  As the results will show the engagement and perception of these stores, stakeholders would be able to highlight exceptional and underperforming stores and make strategic improvements as appropriate. "
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "## Data"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "The data we will need to complete this project will be:\n\n* basic information (name, coordinates, etc.) on Starbucks locations within both downtown areas\n* engagement information regarding how many people are interacting with the store\n* a numeric comparison on the similar scale so that it is possible to compare stores\n\nUsing the [Foursquare API](https://developer.foursquare.com/docs/api \"Foursquare API\") provides all of the above information. From the **Venue Search** and **Venue Details** endpoints, we will be able to find:\n\n* Venue Name, Foursquare ID, and coordinates\n* Engagement stats including amount of venue likes from Foursquare Users and amount of tips provided for each venue\n* Venue rating on a 10-point scale\n"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "## Methodology"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "To find our desired information regarding Starbucks locations, we will need to complete a series of steps using the data outlined above:\n\n1. Import the necessary python libraries\n2. Pull the Starbuck store information from the Foursquare API\n3. Put this information into a usable dataframe\n4. Examine the information in the dataframe\n\nThen, we will move to a discussion of the implications of this data and how it can be used to provide business solutions for stakeholders."
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Import Libraries"
        },
        {
            "cell_type": "code",
            "execution_count": 72,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "Libraries installed!\n"
                }
            ],
            "source": "#Map Libariries\n\n!conda install -c conda-forge folium=0.5.0 --yes\nimport folium\nfrom folium import plugins\nfrom IPython.display import display\n\n#Data Analysis Libraries\n\nimport requests # library to handle requests\nimport pandas as pd # library for data analsysis\nimport numpy as np # library to handle data in a vectorized manner\n\n    \n# Libraries to handle requests\nimport requests \nfrom pandas.io.json import json_normalize\n\nprint('Libraries installed!')"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Define Foursquare API Credentials and Version"
        },
        {
            "cell_type": "code",
            "execution_count": 74,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "Your credentails:\nCLIENT_ID: XBOTJ4DUKX5ASTAAZ0DZOCPW5PNTZYXZJPRKB4ZF1W4QJJ5E\nCLIENT_SECRET:Y2XAI4LYB3RWTFD5EXXW3J5320YA4X4ZBU42YXP0YKNXHQAK\n"
                }
            ],
            "source": "# The code was removed by Watson Studio for sharing."
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Explore Seattle Coffee Shops using Foursquare API "
        },
        {
            "cell_type": "code",
            "execution_count": 75,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>id</th>\n      <th>lat</th>\n      <th>lng</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Juicy Cafe</td>\n      <td>5278125a498eb400461d0557</td>\n      <td>47.604329</td>\n      <td>-122.330958</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>4th Ave Espresso Bar</td>\n      <td>5ab1848c8496ca4b55e2ec56</td>\n      <td>47.607825</td>\n      <td>-122.334445</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Storyville Coffee Company</td>\n      <td>52d456c811d24128cdd7bc8b</td>\n      <td>47.604759</td>\n      <td>-122.336362</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Monorail Espresso</td>\n      <td>47347490f964a5202b4c1fe3</td>\n      <td>47.610828</td>\n      <td>-122.335048</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Cherry Street Public House</td>\n      <td>58ab437613af1c6117f3cba6</td>\n      <td>47.600450</td>\n      <td>-122.332908</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "                         name                        id        lat         lng\n0                  Juicy Cafe  5278125a498eb400461d0557  47.604329 -122.330958\n1        4th Ave Espresso Bar  5ab1848c8496ca4b55e2ec56  47.607825 -122.334445\n2   Storyville Coffee Company  52d456c811d24128cdd7bc8b  47.604759 -122.336362\n3           Monorail Espresso  47347490f964a5202b4c1fe3  47.610828 -122.335048\n4  Cherry Street Public House  58ab437613af1c6117f3cba6  47.600450 -122.332908"
                    },
                    "execution_count": 75,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Define Parameters\n\nradius = 2000\nlimit = 100\nlat = 47.6062\nlon = -122.3321\ncategory = \"4bf58dd8d48988d1e0931735\"\n\n#Define the URl\n    # Category ID for coffee shops was taken from Foursquare web site (https://developer.foursquare.com/docs/resources/categories):\n    \nurl = 'https://api.foursquare.com/v2/venues/explore?client_id={}&client_secret={}&v={}&ll={},{}&categoryId={}&radius={}&limit={}'.format(\n        client_id, client_secret, version, lat, lon, category, radius, limit)\n\n#Send the GET Request\nseattle_results = requests.get(url).json()\n\n#Create Coffee Shops Dataframe\ncoffee_shops = seattle_results['response']['groups'][0]['items']\nseattle_coffee_shops = json_normalize(coffee_shops) # flatten JSON\n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng']\nseattle_coffee_shops =seattle_coffee_shops.loc[:, filtered_columns]\n\n#Clean Columns\nseattle_coffee_shops.columns = [col.split(\".\")[-1] for col in seattle_coffee_shops.columns]\nseattle_coffee_shops.head()"
        },
        {
            "cell_type": "code",
            "execution_count": 76,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "(100, 4)"
                    },
                    "execution_count": 76,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#How big is the dataframe?\nseattle_coffee_shops.shape"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### To see what the coffee market looks like in Downtown Seattle, I created a map of all the coffee shops. "
        },
        {
            "cell_type": "code",
            "execution_count": 77,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfZWIwZTcwZTVlMmVmNDIwMjgwMTU5M2YxZGUyNjhmY2MgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQubWFya2VyY2x1c3Rlci8xLjEuMC9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvMS4xLjAvTWFya2VyQ2x1c3Rlci5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbGVhZmxldC5tYXJrZXJjbHVzdGVyLzEuMS4wL01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MiLz4KPC9oZWFkPgo8Ym9keT4gICAgCiAgICAKICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9saXVtLW1hcCIgaWQ9Im1hcF9lYjBlNzBlNWUyZWY0MjAyODAxNTkzZjFkZTI2OGZjYyIgPjwvZGl2PgogICAgICAgIAo8L2JvZHk+CjxzY3JpcHQ+ICAgIAogICAgCgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBudWxsOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHZhciBtYXBfZWIwZTcwZTVlMmVmNDIwMjgwMTU5M2YxZGUyNjhmY2MgPSBMLm1hcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXBfZWIwZTcwZTVlMmVmNDIwMjgwMTU5M2YxZGUyNjhmY2MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NlbnRlcjogWzQ3LjYwNjIsLTEyMi4zMzIxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDE0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Qm91bmRzOiBib3VuZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb3B5SnVtcDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgdGlsZV9sYXllcl8xMGJjYTI2Y2M5Y2Y0OGU5YmQxNTg3MjBiNzg5ODQ2NCA9IEwudGlsZUxheWVyKAogICAgICAgICAgICAgICAgJ2h0dHBzOi8vc3RhbWVuLXRpbGVzLXtzfS5hLnNzbC5mYXN0bHkubmV0L3RvbmVyL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZWIwZTcwZTVlMmVmNDIwMjgwMTU5M2YxZGUyNjhmY2MpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCA9IEwubWFya2VyQ2x1c3Rlckdyb3VwKHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbWFwX2ViMGU3MGU1ZTJlZjQyMDI4MDE1OTNmMWRlMjY4ZmNjLmFkZExheWVyKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMzIyMzZkODRhMDg3NDkwZWI0MDk3ZDhkMTA5OTk5NTEgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDQzMjkzNTQ2NjMwNiwtMTIyLjMzMDk1ODE2Njk4MzM4XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMDM2MjE3MmE2Y2Q0ZGYyOTY3Y2I3M2FmNWM2M2Q2YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMzNmN2U3YTA3M2Q0MmYzYjQyZWQwZGM2Y2JhOWEwNSA9ICQoJzxkaXYgaWQ9Imh0bWxfMzMzZjdlN2EwNzNkNDJmM2I0MmVkMGRjNmNiYTlhMDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkp1aWN5IENhZmU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EwMzYyMTcyYTZjZDRkZjI5NjdjYjczYWY1YzYzZDZiLnNldENvbnRlbnQoaHRtbF8zMzNmN2U3YTA3M2Q0MmYzYjQyZWQwZGM2Y2JhOWEwNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzMyMjM2ZDg0YTA4NzQ5MGViNDA5N2Q4ZDEwOTk5OTUxLmJpbmRQb3B1cChwb3B1cF9hMDM2MjE3MmE2Y2Q0ZGYyOTY3Y2I3M2FmNWM2M2Q2Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl81ODYxNjc2NzVjMDY0MmE4YjAzNjRjNWE3OTY0YzA2MCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwNzgyNTQ3ODY1ODMxLC0xMjIuMzM0NDQ1MTg1OTA5OF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTkwODRhMDA4ZDc5NDU4ZDljZThlNmY4MzM4ZDQzYzAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTJkYzE1ODM0NjQ2NDg2M2FiN2U4MzM5Nzk4MDVhMjYgPSAkKCc8ZGl2IGlkPSJodG1sX2UyZGMxNTgzNDY0NjQ4NjNhYjdlODMzOTc5ODA1YTI2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij40dGggQXZlIEVzcHJlc3NvIEJhcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTkwODRhMDA4ZDc5NDU4ZDljZThlNmY4MzM4ZDQzYzAuc2V0Q29udGVudChodG1sX2UyZGMxNTgzNDY0NjQ4NjNhYjdlODMzOTc5ODA1YTI2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNTg2MTY3Njc1YzA2NDJhOGIwMzY0YzVhNzk2NGMwNjAuYmluZFBvcHVwKHBvcHVwX2U5MDg0YTAwOGQ3OTQ1OGQ5Y2U4ZTZmODMzOGQ0M2MwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2IwYjRhMThhNDczNjQzYTg4YTJmZmU2MmJjNmQyNzgxID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjA0NzU5MjMyMDUxNjYsLTEyMi4zMzYzNjIxMDEyNTc4OF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDUzNjJjY2ExNjk0NDYxYTg0ZjM0ZDc0NTU5ZWZhN2YgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDA0M2E5NzgxMWFjNDE0Nzg2NTZhYzdlMmZjNjZkZjAgPSAkKCc8ZGl2IGlkPSJodG1sXzAwNDNhOTc4MTFhYzQxNDc4NjU2YWM3ZTJmYzY2ZGYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdG9yeXZpbGxlIENvZmZlZSBDb21wYW55PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kNTM2MmNjYTE2OTQ0NjFhODRmMzRkNzQ1NTllZmE3Zi5zZXRDb250ZW50KGh0bWxfMDA0M2E5NzgxMWFjNDE0Nzg2NTZhYzdlMmZjNjZkZjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9iMGI0YTE4YTQ3MzY0M2E4OGEyZmZlNjJiYzZkMjc4MS5iaW5kUG9wdXAocG9wdXBfZDUzNjJjY2ExNjk0NDYxYTg0ZjM0ZDc0NTU5ZWZhN2YpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZGI4MThjZTA3YTU0NDFiNTlkZjNlMWVmNjI4NzlhOTAgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTA4Mjc4NDEzNjA2MjQsLTEyMi4zMzUwNDc5OTE0ODE3Ml0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGUzMThhZWQyOWY2NDg2YTk5NTJhZWU2YTNmNDI3ZWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDBmMzczNWZmOTgyNDZiODlkYjBiZWMzZGFkOGZlMmEgPSAkKCc8ZGl2IGlkPSJodG1sXzAwZjM3MzVmZjk4MjQ2Yjg5ZGIwYmVjM2RhZDhmZTJhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Nb25vcmFpbCBFc3ByZXNzbzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGUzMThhZWQyOWY2NDg2YTk5NTJhZWU2YTNmNDI3ZWUuc2V0Q29udGVudChodG1sXzAwZjM3MzVmZjk4MjQ2Yjg5ZGIwYmVjM2RhZDhmZTJhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZGI4MThjZTA3YTU0NDFiNTlkZjNlMWVmNjI4NzlhOTAuYmluZFBvcHVwKHBvcHVwXzhlMzE4YWVkMjlmNjQ4NmE5OTUyYWVlNmEzZjQyN2VlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzQzNTMxMmJjZjQxNTQ3NTQ4MzRjNDVlZDg3MzE1ZWYzID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjAwNDUwNDYzNDUyNTc0LC0xMjIuMzMyOTA3NzI4ODQ5NzhdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdmNDEyMGEzNDY2NDRlOGNhOTlmZWFlNWQxZjI3ODM4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I1NGFmZDVmMDEzZDQ1NGNhZDg1NjFkM2JiMWVlY2RkID0gJCgnPGRpdiBpZD0iaHRtbF9iNTRhZmQ1ZjAxM2Q0NTRjYWQ4NTYxZDNiYjFlZWNkZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hlcnJ5IFN0cmVldCBQdWJsaWMgSG91c2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdmNDEyMGEzNDY2NDRlOGNhOTlmZWFlNWQxZjI3ODM4LnNldENvbnRlbnQoaHRtbF9iNTRhZmQ1ZjAxM2Q0NTRjYWQ4NTYxZDNiYjFlZWNkZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzQzNTMxMmJjZjQxNTQ3NTQ4MzRjNDVlZDg3MzE1ZWYzLmJpbmRQb3B1cChwb3B1cF83ZjQxMjBhMzQ2NjQ0ZThjYTk5ZmVhZTVkMWYyNzgzOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9hYzliZTU3NDE3MDQ0NzRlYmI2MDUyZjc1MjQwMWQ1MSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwMDE1MjM3MDgwNjc1NCwtMTIyLjMzMDk0MzgwMjcyMDUxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNWMxZGUyY2RlYzk0MDYwOWI1ZmJhYmI5NmU1ZTM0NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNDE2NmFkZDg4OGM0M2ZjYjk2YTZiNzk1MzU2OWIwNSA9ICQoJzxkaXYgaWQ9Imh0bWxfZTQxNjZhZGQ4ODhjNDNmY2I5NmE2Yjc5NTM1NjliMDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVsbSBDb2ZmZWUgUm9hc3RlcnM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA1YzFkZTJjZGVjOTQwNjA5YjVmYmFiYjk2ZTVlMzQ0LnNldENvbnRlbnQoaHRtbF9lNDE2NmFkZDg4OGM0M2ZjYjk2YTZiNzk1MzU2OWIwNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2FjOWJlNTc0MTcwNDQ3NGViYjYwNTJmNzUyNDAxZDUxLmJpbmRQb3B1cChwb3B1cF8wNWMxZGUyY2RlYzk0MDYwOWI1ZmJhYmI5NmU1ZTM0NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9jNzY0NTUyNTc3ZTg0ZDQwOWZkZTNlYzljZTYzYTkyMiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwODkxODYzMzc0ODU1LC0xMjIuMzMyNTAzODQzNTUwODRdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I3YmY1ZWMzNWU4OTQ3OTc5ZTliZGIzNmQ4OTI4YmQyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzUwZTNhY2JhNjFjODRiYmNhZjBiZDA1NmVhZjBjNzk2ID0gJCgnPGRpdiBpZD0iaHRtbF81MGUzYWNiYTYxYzg0YmJjYWYwYmQwNTZlYWYwYzc5NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Vm94eCBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I3YmY1ZWMzNWU4OTQ3OTc5ZTliZGIzNmQ4OTI4YmQyLnNldENvbnRlbnQoaHRtbF81MGUzYWNiYTYxYzg0YmJjYWYwYmQwNTZlYWYwYzc5Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2M3NjQ1NTI1NzdlODRkNDA5ZmRlM2VjOWNlNjNhOTIyLmJpbmRQb3B1cChwb3B1cF9iN2JmNWVjMzVlODk0Nzk3OWU5YmRiMzZkODkyOGJkMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yNWVjY2Q3MmRlZTU0NGE5YTM0NDFiOTI5ZmMyZTIzYiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwODk2ODQxMjI4NTY4NCwtMTIyLjM0MDY5NzE2MTQ1Nzk1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMjBjNTg0OTJhNWY0OWIwYjM1ZTc5NzEzZjU2OGY0MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYWRhMjJlMjRiNzE0NDIzYWVmYzZjOGJiY2MzNzY4MCA9ICQoJzxkaXYgaWQ9Imh0bWxfZGFkYTIyZTI0YjcxNDQyM2FlZmM2YzhiYmNjMzc2ODAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0b3J5dmlsbGUgQ29mZmVlIENvbXBhbnk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EyMGM1ODQ5MmE1ZjQ5YjBiMzVlNzk3MTNmNTY4ZjQxLnNldENvbnRlbnQoaHRtbF9kYWRhMjJlMjRiNzE0NDIzYWVmYzZjOGJiY2MzNzY4MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzI1ZWNjZDcyZGVlNTQ0YTlhMzQ0MWI5MjlmYzJlMjNiLmJpbmRQb3B1cChwb3B1cF9hMjBjNTg0OTJhNWY0OWIwYjM1ZTc5NzEzZjU2OGY0MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl80ODY0NGMzYTM0YjI0ZmVjODEzYjQ0YTg4ZDFiNDMxNSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwMjc2NzM2ODk4MzEsLTEyMi4zMzQxNTA5NjU4NDk0Ml0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWExMjNjYjFiYzg3NDIwMGE2OGZmNGI2OGE2YzRiOTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDJlMmQ3OTUyOTRlNGJlNGI0ZDM0MTIxY2U0ZWFhNWUgPSAkKCc8ZGl2IGlkPSJodG1sXzAyZTJkNzk1Mjk0ZTRiZTRiNGQzNDEyMWNlNGVhYTVlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGVycnkgU3RyZWV0IENvZmZlZSBIb3VzZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWExMjNjYjFiYzg3NDIwMGE2OGZmNGI2OGE2YzRiOTYuc2V0Q29udGVudChodG1sXzAyZTJkNzk1Mjk0ZTRiZTRiNGQzNDEyMWNlNGVhYTVlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNDg2NDRjM2EzNGIyNGZlYzgxM2I0NGE4OGQxYjQzMTUuYmluZFBvcHVwKHBvcHVwX2FhMTIzY2IxYmM4NzQyMDBhNjhmZjRiNjhhNmM0Yjk2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzZkMTkzNDJiZTg1NjQ1MTJhOTI4ZTZmZDBiZTFhMmE2ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEwODk0NjkzOTQ0MzI0LC0xMjIuMzM4OTUxNzU1NTIzMzVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzVkMDIyMWJmODliNjRiOGNiYjYyMDcyZmVlMTJkN2Q4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M2ODEzNDE3MTkxNDRjOWFhOWRkMDcxNDIxYzg1MWIzID0gJCgnPGRpdiBpZD0iaHRtbF9jNjgxMzQxNzE5MTQ0YzlhYTlkZDA3MTQyMWM4NTFiMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmljdHJvbGEgQ29mZmVlIFJvYXN0ZXJzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81ZDAyMjFiZjg5YjY0YjhjYmI2MjA3MmZlZTEyZDdkOC5zZXRDb250ZW50KGh0bWxfYzY4MTM0MTcxOTE0NGM5YWE5ZGQwNzE0MjFjODUxYjMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl82ZDE5MzQyYmU4NTY0NTEyYTkyOGU2ZmQwYmUxYTJhNi5iaW5kUG9wdXAocG9wdXBfNWQwMjIxYmY4OWI2NGI4Y2JiNjIwNzJmZWUxMmQ3ZDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNWI2NDc1Nzg0M2E5NDc5NzljZDc2MjdkZDQ5ZWE0YTIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDM5MjMzNTMwODg2MjUsLTEyMi4zMzUxNTkyMjcxNDEwNl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjFmYmZlMzdhODVjNDQ0NjlkYmYyNGFmYjRlZDZmZTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjNkMzk0NDQzNWYzNDU4N2IzNzUzNWQ2YWM1MDI4YWMgPSAkKCc8ZGl2IGlkPSJodG1sX2IzZDM5NDQ0MzVmMzQ1ODdiMzc1MzVkNmFjNTAyOGFjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYWZlIEhpdGNoY29jazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjFmYmZlMzdhODVjNDQ0NjlkYmYyNGFmYjRlZDZmZTkuc2V0Q29udGVudChodG1sX2IzZDM5NDQ0MzVmMzQ1ODdiMzc1MzVkNmFjNTAyOGFjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNWI2NDc1Nzg0M2E5NDc5NzljZDc2MjdkZDQ5ZWE0YTIuYmluZFBvcHVwKHBvcHVwX2YxZmJmZTM3YTg1YzQ0NDY5ZGJmMjRhZmI0ZWQ2ZmU5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2Q0NGQxYjI2YmRkZDQ1ZDE4ZGU5OGM2MDQ2Mzc2ODRjID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjA0NjUxMDc1MjcyNjksLTEyMi4zMzEwOTQyMjE3MjQwNF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWY0MjMwMjAzMTY3NDMxNjhkNGFhNTQ0M2YxZGFjN2QgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjE4NjBkYWI2ZjhkNDdiZWI2NDk5ZmJjMTZlZmVkYmMgPSAkKCc8ZGl2IGlkPSJodG1sXzYxODYwZGFiNmY4ZDQ3YmViNjQ5OWZiYzE2ZWZlZGJjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Nb25vcmFpbCBFc3ByZXNzbzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWY0MjMwMjAzMTY3NDMxNjhkNGFhNTQ0M2YxZGFjN2Quc2V0Q29udGVudChodG1sXzYxODYwZGFiNmY4ZDQ3YmViNjQ5OWZiYzE2ZWZlZGJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZDQ0ZDFiMjZiZGRkNDVkMThkZTk4YzYwNDYzNzY4NGMuYmluZFBvcHVwKHBvcHVwX2VmNDIzMDIwMzE2NzQzMTY4ZDRhYTU0NDNmMWRhYzdkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2ZlOWJmMmUwNzJkNjRmMGNiMTk1NDEwNjBkOTEyNGNkID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEzNDQ5OTU1NDgxMTQ0LC0xMjIuMzM0NzAyMDQ3ODg0NjldLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FkMGY3ZWU4YzcxNzQ0NWY5YTExZDViMGI5YTg3MjRiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MxNWM0NWQ4ZDY4YTQ0ZjU5YTU4OTMxOTFiMGMwYmM3ID0gJCgnPGRpdiBpZD0iaHRtbF9jMTVjNDVkOGQ2OGE0NGY1OWE1ODkzMTkxYjBjMGJjNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QW5jaG9yaGVhZCBDb2ZmZWUgQ288L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FkMGY3ZWU4YzcxNzQ0NWY5YTExZDViMGI5YTg3MjRiLnNldENvbnRlbnQoaHRtbF9jMTVjNDVkOGQ2OGE0NGY1OWE1ODkzMTkxYjBjMGJjNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2ZlOWJmMmUwNzJkNjRmMGNiMTk1NDEwNjBkOTEyNGNkLmJpbmRQb3B1cChwb3B1cF9hZDBmN2VlOGM3MTc0NDVmOWExMWQ1YjBiOWE4NzI0Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8zYTVhMGI1NzEzZmQ0NWY1YWRiYWQzNWI4YWViYzM1NSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjU5OTQzNTE0MTE5ODU1LC0xMjIuMzMyODU3MDg5NjIwODNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUzMDU0ZTIwNTI3MDQ2NjI5YzZkZjdhMjk3N2Y4ZDI4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk4MDI3OTAzNWMxZDRhNDI4MDIzMDIxZWUyMjM0NzkyID0gJCgnPGRpdiBpZD0iaHRtbF85ODAyNzkwMzVjMWQ0YTQyODAyMzAyMWVlMjIzNDc5MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FmZsOoIFVtYnJpYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTMwNTRlMjA1MjcwNDY2MjljNmRmN2EyOTc3ZjhkMjguc2V0Q29udGVudChodG1sXzk4MDI3OTAzNWMxZDRhNDI4MDIzMDIxZWUyMjM0NzkyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfM2E1YTBiNTcxM2ZkNDVmNWFkYmFkMzViOGFlYmMzNTUuYmluZFBvcHVwKHBvcHVwXzUzMDU0ZTIwNTI3MDQ2NjI5YzZkZjdhMjk3N2Y4ZDI4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzU3Yjc4YzA3MmFhZTQ5YzlhMGMzMjUzYWIwYjljNTlmID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjAyMjY5NTgxMDE1NzYsLTEyMi4zMzI1NDkzMDk0NTE1MV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODgxYTdlZDRjYjc5NGFkNGE5MTkyMzk2ZmY3OWU4ZDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDEwMmU3MDBkM2IzNGRkMmIzNzRhYmM4ZjJmNmVlMjIgPSAkKCc8ZGl2IGlkPSJodG1sX2QxMDJlNzAwZDNiMzRkZDJiMzc0YWJjOGYyZjZlZTIyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TbGF0ZSBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg4MWE3ZWQ0Y2I3OTRhZDRhOTE5MjM5NmZmNzllOGQwLnNldENvbnRlbnQoaHRtbF9kMTAyZTcwMGQzYjM0ZGQyYjM3NGFiYzhmMmY2ZWUyMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzU3Yjc4YzA3MmFhZTQ5YzlhMGMzMjUzYWIwYjljNTlmLmJpbmRQb3B1cChwb3B1cF84ODFhN2VkNGNiNzk0YWQ0YTkxOTIzOTZmZjc5ZThkMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yYjY0MDIyZTJhOTM0YTc3YjRiYjk4Y2Q0MDJhY2EzYiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwODA4OSwtMTIyLjMzODg2M10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2Y0OGI5NTY1MWEyNDQyY2JhNzc2MDFjMjk4OTIxMDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODQ3MzkzMjI3NDg0NGM5ZmE3ZWVhMGY2NzhhMjFhMmYgPSAkKCc8ZGl2IGlkPSJodG1sXzg0NzM5MzIyNzQ4NDRjOWZhN2VlYTBmNjc4YTIxYTJmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYWZmZSBMYWRybzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2Y0OGI5NTY1MWEyNDQyY2JhNzc2MDFjMjk4OTIxMDcuc2V0Q29udGVudChodG1sXzg0NzM5MzIyNzQ4NDRjOWZhN2VlYTBmNjc4YTIxYTJmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMmI2NDAyMmUyYTkzNGE3N2I0YmI5OGNkNDAyYWNhM2IuYmluZFBvcHVwKHBvcHVwXzNmNDhiOTU2NTFhMjQ0MmNiYTc3NjAxYzI5ODkyMTA3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzcwMWZiN2JmMTMxMjRkNmE4NWM0YzExYTBkOTY3OGE2ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjAwMDQwMzQ5NDU1MDMsLTEyMi4zMzI4MDM0MDc3NDE1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ZTBkYTcyMjUzNzQ0YWFhYTM2ZDA0MmI1ZmQ2OTQ3YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZmNlYTAzODE1M2U0YTcwYTA1YmU2ZTlmMmNlYThhZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNWZjZWEwMzgxNTNlNGE3MGEwNWJlNmU5ZjJjZWE4YWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBMb25kb24gUGxhbmU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRlMGRhNzIyNTM3NDRhYWFhMzZkMDQyYjVmZDY5NDdhLnNldENvbnRlbnQoaHRtbF81ZmNlYTAzODE1M2U0YTcwYTA1YmU2ZTlmMmNlYThhZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzcwMWZiN2JmMTMxMjRkNmE4NWM0YzExYTBkOTY3OGE2LmJpbmRQb3B1cChwb3B1cF80ZTBkYTcyMjUzNzQ0YWFhYTM2ZDA0MmI1ZmQ2OTQ3YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9kYTY0YTI3M2M3ZTc0MmVkOGNiZmY3YjA5YTczMTE2ZSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMDEwNywtMTIyLjM0MDU2MV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGI3ZmFiZTI4ODVmNGYwZDk0MDEwZDZjMGI2NDYyNjUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGQxN2VmM2QwNzNiNGMxOGFhZWIzODU1MmIyYTdmOGUgPSAkKCc8ZGl2IGlkPSJodG1sXzRkMTdlZjNkMDczYjRjMThhYWViMzg1NTJiMmE3ZjhlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TZWF0dGxlIENvZmZlZSBXb3JrczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGI3ZmFiZTI4ODVmNGYwZDk0MDEwZDZjMGI2NDYyNjUuc2V0Q29udGVudChodG1sXzRkMTdlZjNkMDczYjRjMThhYWViMzg1NTJiMmE3ZjhlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZGE2NGEyNzNjN2U3NDJlZDhjYmZmN2IwOWE3MzExNmUuYmluZFBvcHVwKHBvcHVwXzRiN2ZhYmUyODg1ZjRmMGQ5NDAxMGQ2YzBiNjQ2MjY1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzZhZWE3M2ZkY2U4NDQxYTQ4MDQ1NWJkYzM3YTIxMDNhID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNTk4MDA2NzM2ODAxOTIsLTEyMi4zMjc3NjcxOTAzNDA1NV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDgyYjU4YjliYTdmNDhkZGFjN2FkZjBhZDVlZDcyYjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTcxYmNmMWM4MTViNGNiNDkwZDVmNzdjMWE4MmVlMjMgPSAkKCc8ZGl2IGlkPSJodG1sX2E3MWJjZjFjODE1YjRjYjQ5MGQ1Zjc3YzFhODJlZTIzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ib29kIEZhbW91cyBDYWZlICsgQmFyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80ODJiNThiOWJhN2Y0OGRkYWM3YWRmMGFkNWVkNzJiNC5zZXRDb250ZW50KGh0bWxfYTcxYmNmMWM4MTViNGNiNDkwZDVmNzdjMWE4MmVlMjMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl82YWVhNzNmZGNlODQ0MWE0ODA0NTViZGMzN2EyMTAzYS5iaW5kUG9wdXAocG9wdXBfNDgyYjU4YjliYTdmNDhkZGFjN2FkZjBhZDVlZDcyYjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfN2Y5NjU4YWQ1YTFjNDRkY2I5ZDQ1Y2YzN2FiMWRkMDEgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny41OTkxMjIxMzUzMTU4OTUsLTEyMi4zMzE3Nzk0MTYyNzM2OF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTU2YTI1OGRiNWQ2NGUwY2IwYWM1NjgxM2U3Zjc5OTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjBlMDQ2NzUyY2NjNDk1YWI5ZTJmNmU1YTg0ZjdmMzYgPSAkKCc8ZGl2IGlkPSJodG1sX2YwZTA0Njc1MmNjYzQ5NWFiOWUyZjZlNWE4NGY3ZjM2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5aZWl0Z2Vpc3QgS3Vuc3QgJmFtcDsgS2FmZmVlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85NTZhMjU4ZGI1ZDY0ZTBjYjBhYzU2ODEzZTdmNzk5NS5zZXRDb250ZW50KGh0bWxfZjBlMDQ2NzUyY2NjNDk1YWI5ZTJmNmU1YTg0ZjdmMzYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl83Zjk2NThhZDVhMWM0NGRjYjlkNDVjZjM3YWIxZGQwMS5iaW5kUG9wdXAocG9wdXBfOTU2YTI1OGRiNWQ2NGUwY2IwYWM1NjgxM2U3Zjc5OTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZTUwZDZmNjAxOWE0NGU5ZjlmYWEwODA4ZjE4NDA1NTMgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTQyMDMzNDIxNzMxOCwtMTIyLjMyNzI3NzMwNjMyMjk0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMTcwOWM0YmVmNjY0MDhiYTk3ZWVhMDBjODMyNGFkNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wN2IwMDM1Mzk3YTg0YjVhYjE4NWM4NTViNDRkMjVhNSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDdiMDAzNTM5N2E4NGI1YWIxODVjODU1YjQ0ZDI1YTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlZpY3Ryb2xhIENhZmUgYW5kIFJvYXN0ZXJ5PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hMTcwOWM0YmVmNjY0MDhiYTk3ZWVhMDBjODMyNGFkNC5zZXRDb250ZW50KGh0bWxfMDdiMDAzNTM5N2E4NGI1YWIxODVjODU1YjQ0ZDI1YTUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9lNTBkNmY2MDE5YTQ0ZTlmOWZhYTA4MDhmMTg0MDU1My5iaW5kUG9wdXAocG9wdXBfYTE3MDljNGJlZjY2NDA4YmE5N2VlYTAwYzgzMjRhZDQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZTM0NThmYzE0MTg4NDVhMGJmMGRmNTkxNjQ2MGVjMGIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDA5MTg4MzM1NTc4ODQsLTEyMi4zMjkzMDc0NDMzNDQ1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yZjk1MTM2Y2M2YTg0MDYyYmU1ZTJlNjVkMGQwNWE0MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNTkxZWM5NzZkMTA0Zjk1ODYwOWM4MzEyNDE2NDdkYiA9ICQoJzxkaXYgaWQ9Imh0bWxfYzU5MWVjOTc2ZDEwNGY5NTg2MDljODMxMjQxNjQ3ZGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhZmZlIFZpdGE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJmOTUxMzZjYzZhODQwNjJiZTVlMmU2NWQwZDA1YTQyLnNldENvbnRlbnQoaHRtbF9jNTkxZWM5NzZkMTA0Zjk1ODYwOWM4MzEyNDE2NDdkYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2UzNDU4ZmMxNDE4ODQ1YTBiZjBkZjU5MTY0NjBlYzBiLmJpbmRQb3B1cChwb3B1cF8yZjk1MTM2Y2M2YTg0MDYyYmU1ZTJlNjVkMGQwNWE0Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl83MDUyNjA0OWRiYTM0MWQ0ODJmNTlhOWQ3MmVlNjBjOSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMTQzNjE3ODEwMjc5LC0xMjIuMzQxNTk3MTA4MjU4OTVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIxMDk1ZTY5MTJkZjQwY2Q5MDkwZDM1NmU4YTQ1ZTg4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVkNzBlNDcyZTY0YzRmZmRiMjE3ODdmN2YyZWUyMzUzID0gJCgnPGRpdiBpZD0iaHRtbF81ZDcwZTQ3MmU2NGM0ZmZkYjIxNzg3ZjdmMmVlMjM1MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TW9vcmUgQ29mZmVlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yMTA5NWU2OTEyZGY0MGNkOTA5MGQzNTZlOGE0NWU4OC5zZXRDb250ZW50KGh0bWxfNWQ3MGU0NzJlNjRjNGZmZGIyMTc4N2Y3ZjJlZTIzNTMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl83MDUyNjA0OWRiYTM0MWQ0ODJmNTlhOWQ3MmVlNjBjOS5iaW5kUG9wdXAocG9wdXBfMjEwOTVlNjkxMmRmNDBjZDkwOTBkMzU2ZThhNDVlODgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfOTdkMzI2MjMyYTFmNDBlMjg1MjMxM2M1M2EwZmQ5NjAgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTIzNDgyNzEwODEyOCwtMTIyLjMzNjMzMzUzMzg0OTAzXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81ZTE3MjhkYTU4YjQ0OGUxOGIwZDIwNjQ5MjI5OGNlZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMjkwZDAzYjEzZGI0ZjlkOWMyMWE1ZDE4ODE0NjY5MyA9ICQoJzxkaXYgaWQ9Imh0bWxfYTI5MGQwM2IxM2RiNGY5ZDljMjFhNWQxODgxNDY2OTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhZsOpIE5vcmRzdHJvbTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWUxNzI4ZGE1OGI0NDhlMThiMGQyMDY0OTIyOThjZWUuc2V0Q29udGVudChodG1sX2EyOTBkMDNiMTNkYjRmOWQ5YzIxYTVkMTg4MTQ2NjkzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOTdkMzI2MjMyYTFmNDBlMjg1MjMxM2M1M2EwZmQ5NjAuYmluZFBvcHVwKHBvcHVwXzVlMTcyOGRhNThiNDQ4ZTE4YjBkMjA2NDkyMjk4Y2VlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzFkYTdlZjJhZTY1YjQyZjZiYTE1MDIwY2NlNjRmMjU2ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEwNjYzOTY2ODgxOTMsLTEyMi4zNDA4NzIwODYxNDAzNV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWVmYjk3MmY3YTA5NDE5OWI5NjU1MWFmM2Q1OWY0ZDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjczZWM2OWNhZmY2NGZhY2E5YmU0NTIyMzFhNjk5MTkgPSAkKCc8ZGl2IGlkPSJodG1sXzY3M2VjNjljYWZmNjRmYWNhOWJlNDUyMjMxYTY5OTE5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Nb29yZSBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzllZmI5NzJmN2EwOTQxOTliOTY1NTFhZjNkNTlmNGQ3LnNldENvbnRlbnQoaHRtbF82NzNlYzY5Y2FmZjY0ZmFjYTliZTQ1MjIzMWE2OTkxOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzFkYTdlZjJhZTY1YjQyZjZiYTE1MDIwY2NlNjRmMjU2LmJpbmRQb3B1cChwb3B1cF85ZWZiOTcyZjdhMDk0MTk5Yjk2NTUxYWYzZDU5ZjRkNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl80YjgzYTRmM2JjMmI0MjY4YmJmODcxMTlmZDU5NzQ5MSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwNzM2MTk5OTk5OTk5LC0xMjIuMzM5MDYxNV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWRkM2NhOWNhNzNjNDBhYzkwZmNkNGNmZDA4MDZmYjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWMzZDVmZWNmZmIyNDkwMTk1ZDMzMDk0OWRiMDY0MzcgPSAkKCc8ZGl2IGlkPSJodG1sXzFjM2Q1ZmVjZmZiMjQ5MDE5NWQzMzA5NDlkYjA2NDM3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Gb250w6kgQ2Fmw6kgJmFtcDsgV2luZSBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VkZDNjYTljYTczYzQwYWM5MGZjZDRjZmQwODA2ZmI4LnNldENvbnRlbnQoaHRtbF8xYzNkNWZlY2ZmYjI0OTAxOTVkMzMwOTQ5ZGIwNjQzNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzRiODNhNGYzYmMyYjQyNjhiYmY4NzExOWZkNTk3NDkxLmJpbmRQb3B1cChwb3B1cF9lZGQzY2E5Y2E3M2M0MGFjOTBmY2Q0Y2ZkMDgwNmZiOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8wNDNhMjllNWE0ZDU0NjA0YTVjOTcwOWFhMDUxMTIxNSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwODg4MzU2OTQ5MTgxNiwtMTIyLjM0MDE1MjExMTUxMjZdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhmNjkzZDVmZDM1YjRkNTE4Mzg0ZDEzNTVmYzA2MGExID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzEzM2MyMmE0MGVmZTQ4MjdiYThjNWZhODhiZWFhYjI4ID0gJCgnPGRpdiBpZD0iaHRtbF8xMzNjMjJhNDBlZmU0ODI3YmE4YzVmYTg4YmVhYWIyOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2hvc3QgQWxsZXkgRXNwcmVzc288L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhmNjkzZDVmZDM1YjRkNTE4Mzg0ZDEzNTVmYzA2MGExLnNldENvbnRlbnQoaHRtbF8xMzNjMjJhNDBlZmU0ODI3YmE4YzVmYTg4YmVhYWIyOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzA0M2EyOWU1YTRkNTQ2MDRhNWM5NzA5YWEwNTExMjE1LmJpbmRQb3B1cChwb3B1cF84ZjY5M2Q1ZmQzNWI0ZDUxODM4NGQxMzU1ZmMwNjBhMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9mM2FkZDQxYWU2ZGQ0YWQ0YjMyY2E0ZDgyZjFiOWE5MSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNDE1MTYxMzUxMTQ3LC0xMjIuMzI0NTY1MDU5Nzc2MDNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U2MzMxYThlYzUzZTRkYmZiMjkyODE1OWYyMzg2NDA1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk5ZjM0OTdmMjk0NzRkYzRhYzY2YTRiMjUzZWU1OWQwID0gJCgnPGRpdiBpZD0iaHRtbF85OWYzNDk3ZjI5NDc0ZGM0YWM2NmE0YjI1M2VlNTlkMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2FsYWRpIEJyb3RoZXJzIENvZmZlZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTYzMzFhOGVjNTNlNGRiZmIyOTI4MTU5ZjIzODY0MDUuc2V0Q29udGVudChodG1sXzk5ZjM0OTdmMjk0NzRkYzRhYzY2YTRiMjUzZWU1OWQwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZjNhZGQ0MWFlNmRkNGFkNGIzMmNhNGQ4MmYxYjlhOTEuYmluZFBvcHVwKHBvcHVwX2U2MzMxYThlYzUzZTRkYmZiMjkyODE1OWYyMzg2NDA1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzcyZmVhNTY5ODM3ZDQwMzg4NTBiNjhkNWJhZGRlYTA1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEzOTIyLC0xMjIuMzIwMzI4XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kYjRhZmQ4YzM0OWI0NzRlOTdkN2I3Y2ExN2NlMjU1MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MzFhOTVlOTQ0OGU0NzU0YTQ3NjgxNjFhZmUwOTk4OSA9ICQoJzxkaXYgaWQ9Imh0bWxfODMxYTk1ZTk0NDhlNDc1NGE0NzY4MTYxYWZlMDk5ODkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhcGl0b2wgQ29mZmVlIFdvcmtzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYjRhZmQ4YzM0OWI0NzRlOTdkN2I3Y2ExN2NlMjU1Mi5zZXRDb250ZW50KGh0bWxfODMxYTk1ZTk0NDhlNDc1NGE0NzY4MTYxYWZlMDk5ODkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl83MmZlYTU2OTgzN2Q0MDM4ODUwYjY4ZDViYWRkZWEwNS5iaW5kUG9wdXAocG9wdXBfZGI0YWZkOGMzNDliNDc0ZTk3ZDdiN2NhMTdjZTI1NTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYTQ3NTk0ODU4YTM1NGI0OWE3ZTk5MTgxMWU5NTQ4YmQgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDc1NTUyMTQxNTM2MiwtMTIyLjMzNTg0NTI3NjA2MzUyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iMzgwNTBlNTM3ZTM0ZmE0OTRjZjg2ODk4NDhkNmJmMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NThhNWI4NWJiMDk0NTBlODk3NmYzYmE5ZjhjNzUwYiA9ICQoJzxkaXYgaWQ9Imh0bWxfNDU4YTViODViYjA5NDUwZTg5NzZmM2JhOWY4Yzc1MGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBlZ2FzdXMgQ29mZmVlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iMzgwNTBlNTM3ZTM0ZmE0OTRjZjg2ODk4NDhkNmJmMS5zZXRDb250ZW50KGh0bWxfNDU4YTViODViYjA5NDUwZTg5NzZmM2JhOWY4Yzc1MGIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9hNDc1OTQ4NThhMzU0YjQ5YTdlOTkxODExZTk1NDhiZC5iaW5kUG9wdXAocG9wdXBfYjM4MDUwZTUzN2UzNGZhNDk0Y2Y4Njg5ODQ4ZDZiZjEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZDdkMDFiYjdiOTU4NDE5MmI2OWE4ZmIyZWRiMjc2ZWIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTMxNDYyOTAwMDYzNTUsLTEyMi4zMzI5NzM3MjM0NjAzMV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDkwNGY2NzEyMTJmNDM5Y2E5MTY3N2U5NWQzZGIwYTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTYzZTFlYjM5ZDE0NGMyZGI1ZGJlZGRiNjVhMWNiYjcgPSAkKCc8ZGl2IGlkPSJodG1sXzU2M2UxZWIzOWQxNDRjMmRiNWRiZWRkYjY1YTFjYmI3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYWZmZSBMYWRybzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDkwNGY2NzEyMTJmNDM5Y2E5MTY3N2U5NWQzZGIwYTguc2V0Q29udGVudChodG1sXzU2M2UxZWIzOWQxNDRjMmRiNWRiZWRkYjY1YTFjYmI3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZDdkMDFiYjdiOTU4NDE5MmI2OWE4ZmIyZWRiMjc2ZWIuYmluZFBvcHVwKHBvcHVwXzA5MDRmNjcxMjEyZjQzOWNhOTE2NzdlOTVkM2RiMGE4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2RmODA1NzU0MGQyMTRiZTFhZWM5NTYyOTcwYWY3OGE5ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjA3MDkzNjc3NDg2OSwtMTIyLjMyNDYwMTA2MzY2Nzc0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hY2FmNjcxYjM3YWE0NmNjODMwYzEyNzMwNTA1MTQxNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMzI1MDgwNDczZGI0ZWZjOTQzMzk5YTQxNDMwNDg5NSA9ICQoJzxkaXYgaWQ9Imh0bWxfZTMyNTA4MDQ3M2RiNGVmYzk0MzM5OWE0MTQzMDQ4OTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkdhbGxlcnkgQ2Fmw6ggYXQgVGhlIEZyeWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FjYWY2NzFiMzdhYTQ2Y2M4MzBjMTI3MzA1MDUxNDE3LnNldENvbnRlbnQoaHRtbF9lMzI1MDgwNDczZGI0ZWZjOTQzMzk5YTQxNDMwNDg5NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2RmODA1NzU0MGQyMTRiZTFhZWM5NTYyOTcwYWY3OGE5LmJpbmRQb3B1cChwb3B1cF9hY2FmNjcxYjM3YWE0NmNjODMwYzEyNzMwNTA1MTQxNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9kMTQxMzNiNzk3MGY0YWEyOWRhMTI4ODkyMDdlNGVkNCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMTk3MDE0NDE4MTUsLTEyMi4zMTcwMjAxNTI4MzczXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82ZDM4OTNkNjA5YmY0ZDJjYmIwZjdjZGY3NzEzYmFjYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MDU1NDYwNjU1Y2M0NzNkOWZjYjY0NTc4YTU0ZmNhNiA9ICQoJzxkaXYgaWQ9Imh0bWxfNjA1NTQ2MDY1NWNjNDczZDlmY2I2NDU3OGE1NGZjYTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0dW1wdG93biBDb2ZmZWUgUm9hc3RlcnM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZkMzg5M2Q2MDliZjRkMmNiYjBmN2NkZjc3MTNiYWNiLnNldENvbnRlbnQoaHRtbF82MDU1NDYwNjU1Y2M0NzNkOWZjYjY0NTc4YTU0ZmNhNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2QxNDEzM2I3OTcwZjRhYTI5ZGExMjg4OTIwN2U0ZWQ0LmJpbmRQb3B1cChwb3B1cF82ZDM4OTNkNjA5YmY0ZDJjYmIwZjdjZGY3NzEzYmFjYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yMjVlNWVkZjE3NWE0YTc0OThhYTNmMGJmYTBjNTQwZCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNDczMDA3NjkyMzg4NCwtMTIyLjMyMDA3ODMzMjk5NDgxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MTE0MDkyMTkxZWU0YzRiOTZlN2E1NWFkOTczOTk3OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ODhiZDY2OGQ3NDk0ZDE0YjIxZTM3YzI4NzA0MTI0MSA9ICQoJzxkaXYgaWQ9Imh0bWxfNTg4YmQ2NjhkNzQ5NGQxNGIyMWUzN2MyODcwNDEyNDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxpdHRsZSBPZGRmZWxsb3dzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MTE0MDkyMTkxZWU0YzRiOTZlN2E1NWFkOTczOTk3OS5zZXRDb250ZW50KGh0bWxfNTg4YmQ2NjhkNzQ5NGQxNGIyMWUzN2MyODcwNDEyNDEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8yMjVlNWVkZjE3NWE0YTc0OThhYTNmMGJmYTBjNTQwZC5iaW5kUG9wdXAocG9wdXBfODExNDA5MjE5MWVlNGM0Yjk2ZTdhNTVhZDk3Mzk5NzkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfY2RkN2FmNTY4YTc2NDM1ZmE1NzA2MjBmNzZlYmY4M2EgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTQ4ODYzNzU4MTU3NiwtMTIyLjMxOTQ5MjUzOTUwODI5XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MGNjYmEyOThhZjE0NmFhYjQ5ZTkzM2MzMzE0N2VmNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NWVlYzFlMzI1ZjI0MWRlODk1ZmVhNDUyYTQyNTg2NiA9ICQoJzxkaXYgaWQ9Imh0bWxfOTVlZWMxZTMyNWYyNDFkZTg5NWZlYTQ1MmE0MjU4NjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk9kZGZlbGxvd3MgQ2FmZSAmYW1wOyBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYwY2NiYTI5OGFmMTQ2YWFiNDllOTMzYzMzMTQ3ZWY2LnNldENvbnRlbnQoaHRtbF85NWVlYzFlMzI1ZjI0MWRlODk1ZmVhNDUyYTQyNTg2Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2NkZDdhZjU2OGE3NjQzNWZhNTcwNjIwZjc2ZWJmODNhLmJpbmRQb3B1cChwb3B1cF82MGNjYmEyOThhZjE0NmFhYjQ5ZTkzM2MzMzE0N2VmNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl85YzJjYTI5YmY0ODk0N2QxOTdkZmU1YjhlYzYyYWUzMiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjU5NzkxNzg0MTEzOTk0LC0xMjIuMzI0OTk3NzUzNTg0MjFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2YyOWExZDMwM2ZiNjQ3MTA5OWY0NGJjYTc3YjAyOGE4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YwNTczNzRkOWY2NjRkOTRiOTVkNTI2ZjBhZWUzYzU2ID0gJCgnPGRpdiBpZD0iaHRtbF9mMDU3Mzc0ZDlmNjY0ZDk0Yjk1ZDUyNmYwYWVlM2M1NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdGVybiBDYWbDqTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjI5YTFkMzAzZmI2NDcxMDk5ZjQ0YmNhNzdiMDI4YTguc2V0Q29udGVudChodG1sX2YwNTczNzRkOWY2NjRkOTRiOTVkNTI2ZjBhZWUzYzU2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOWMyY2EyOWJmNDg5NDdkMTk3ZGZlNWI4ZWM2MmFlMzIuYmluZFBvcHVwKHBvcHVwX2YyOWExZDMwM2ZiNjQ3MTA5OWY0NGJjYTc3YjAyOGE4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzFiYjM3YWM3MzBlNzRlYzE5OGNmODA5OGU3NTJhNGRmID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEyMzgxMjk3NTE1MzUsLTEyMi4zMzg4Njc3NjA0NTA3OF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTQ2YjlkMzVlODg0NGY3N2I4OWEyMTJlNzE3YzAwMzkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTg5MjEyNzEyNDI5NDRlZTlmNWZiYjNlNzJlMWQxOGUgPSAkKCc8ZGl2IGlkPSJodG1sX2E4OTIxMjcxMjQyOTQ0ZWU5ZjVmYmIzZTcyZTFkMThlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdGVlcG9sb2dpZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTQ2YjlkMzVlODg0NGY3N2I4OWEyMTJlNzE3YzAwMzkuc2V0Q29udGVudChodG1sX2E4OTIxMjcxMjQyOTQ0ZWU5ZjVmYmIzZTcyZTFkMThlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMWJiMzdhYzczMGU3NGVjMTk4Y2Y4MDk4ZTc1MmE0ZGYuYmluZFBvcHVwKHBvcHVwXzE0NmI5ZDM1ZTg4NDRmNzdiODlhMjEyZTcxN2MwMDM5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzg0Mjc0ZDMyNzY1MzRjZjQ4Y2Y4NTM1MmNlZjFhYTE0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEzOTkwODYyMDQzNTYsLTEyMi4zMTgwOTI2NDI4NjQzOV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDYwZWIwOGRiNjEzNGQ5ZWFmYzNlYmMxNDU2MDM2YWEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDg5NDQ4OTZjZTkxNDc1ZDg0NjdlYjlhYTI1YmVmMWYgPSAkKCc8ZGl2IGlkPSJodG1sXzQ4OTQ0ODk2Y2U5MTQ3NWQ4NDY3ZWI5YWEyNWJlZjFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYWZlIFBldHRpcm9zc288L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA2MGViMDhkYjYxMzRkOWVhZmMzZWJjMTQ1NjAzNmFhLnNldENvbnRlbnQoaHRtbF80ODk0NDg5NmNlOTE0NzVkODQ2N2ViOWFhMjViZWYxZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzg0Mjc0ZDMyNzY1MzRjZjQ4Y2Y4NTM1MmNlZjFhYTE0LmJpbmRQb3B1cChwb3B1cF8wNjBlYjA4ZGI2MTM0ZDllYWZjM2ViYzE0NTYwMzZhYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl82NmYwNDVlYmUyNWM0YWI2OGU2ZjNjODczOWQ5ZWJjNCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNjU5MTY5ODU4NDQ3LC0xMjIuMzQyMTIzMTQ0NTgxMzZdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIyYjc5ZTU0MThhZjQwMGM5MWMzMjNhMTY2Y2E2NjBiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA0MjY2ZjYwZmViODQxN2RiODZkNWM0YTZmMjBlYWIwID0gJCgnPGRpdiBpZD0iaHRtbF8wNDI2NmY2MGZlYjg0MTdkYjg2ZDVjNGE2ZjIwZWFiMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RnVsY3J1bSBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzIyYjc5ZTU0MThhZjQwMGM5MWMzMjNhMTY2Y2E2NjBiLnNldENvbnRlbnQoaHRtbF8wNDI2NmY2MGZlYjg0MTdkYjg2ZDVjNGE2ZjIwZWFiMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzY2ZjA0NWViZTI1YzRhYjY4ZTZmM2M4NzM5ZDllYmM0LmJpbmRQb3B1cChwb3B1cF8yMmI3OWU1NDE4YWY0MDBjOTFjMzIzYTE2NmNhNjYwYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8zZmNhYjFlMjdmYzM0OGQ5YWM1NzI4YTFiOTQ2Y2UyMCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMDYwMjY1ODY5OTczLC0xMjIuMzQxNDYyMjEwNTU4MTNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBlNWVjN2MyZTA3MjQ0YzA4MDg4NjVhNTUyYjZlYzE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRjODYwZWE2Y2ZkNzRlNGRiYWNhNTNlNDI3MTg4MWQzID0gJCgnPGRpdiBpZD0iaHRtbF80Yzg2MGVhNmNmZDc0ZTRkYmFjYTUzZTQyNzE4ODFkMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FmZsOpIExpZXRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZTVlYzdjMmUwNzI0NGMwODA4ODY1YTU1MmI2ZWMxNS5zZXRDb250ZW50KGh0bWxfNGM4NjBlYTZjZmQ3NGU0ZGJhY2E1M2U0MjcxODgxZDMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8zZmNhYjFlMjdmYzM0OGQ5YWM1NzI4YTFiOTQ2Y2UyMC5iaW5kUG9wdXAocG9wdXBfMGU1ZWM3YzJlMDcyNDRjMDgwODg2NWE1NTJiNmVjMTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNDU2NDI3ZjkxYjI1NDVjOWJjNmIxZTgxMGQ2MGZjYzUgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny41OTk5NzAwNjQ0ODI5NiwtMTIyLjMyNjE0Njg0MjEwMjQ3XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jOWU4MjYxNTkwMmQ0YmRjYjg2YmFiZDYwMjMzOWYwMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNmZjMWY0YWRkNTc0NzdlODAyNWNhMDdmZmQyMDRlOSA9ICQoJzxkaXYgaWQ9Imh0bWxfZTZmYzFmNGFkZDU3NDc3ZTgwMjVjYTA3ZmZkMjA0ZTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhbmFtYSBIb3RlbCBUZWEgJmFtcDsgQ29mZmVlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jOWU4MjYxNTkwMmQ0YmRjYjg2YmFiZDYwMjMzOWYwMC5zZXRDb250ZW50KGh0bWxfZTZmYzFmNGFkZDU3NDc3ZTgwMjVjYTA3ZmZkMjA0ZTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl80NTY0MjdmOTFiMjU0NWM5YmM2YjFlODEwZDYwZmNjNS5iaW5kUG9wdXAocG9wdXBfYzllODI2MTU5MDJkNGJkY2I4NmJhYmQ2MDIzMzlmMDApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZWMxODg4NzJlNzU2NGJhMjkzMmJkYzQ1ZDQ3Y2ZmYzQgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny41OTg1NzksLTEyMi4zMjQ2OTZdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FlMjg2MjhjYzBlYjQzOWU4MDY4NDU2ZjNmZTFkMmFiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ViZTZmNDU4M2QyZjQxNTc5MjZiNWEzMDcwMzc3ZDdkID0gJCgnPGRpdiBpZD0iaHRtbF9lYmU2ZjQ1ODNkMmY0MTU3OTI2YjVhMzA3MDM3N2Q3ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TmV3IENlbnR1cnkgVGVhIEdhbGxlcnk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FlMjg2MjhjYzBlYjQzOWU4MDY4NDU2ZjNmZTFkMmFiLnNldENvbnRlbnQoaHRtbF9lYmU2ZjQ1ODNkMmY0MTU3OTI2YjVhMzA3MDM3N2Q3ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2VjMTg4ODcyZTc1NjRiYTI5MzJiZGM0NWQ0N2NmZmM0LmJpbmRQb3B1cChwb3B1cF9hZTI4NjI4Y2MwZWI0MzllODA2ODQ1NmYzZmUxZDJhYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9lOWRhNmU0OThjMmE0Y2EyOWVmZTNjOGE4MDFhYjc3YyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNTEwMDM4OTkwNzk5NCwtMTIyLjMzODM0NDEwNDMyODNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhiNzNmOWQwYjUzZjQ2ZDE4MzFhMjg3ZDRhNzgyZjkyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E5MjlmNGIzZGI4NTQ0YWNiODBjMjFkODY3MjNjZDAzID0gJCgnPGRpdiBpZD0iaHRtbF9hOTI5ZjRiM2RiODU0NGFjYjgwYzIxZDg2NzIzY2QwMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+T2x5bXBpYSBDb2ZmZWUgUm9hc3RlcnM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhiNzNmOWQwYjUzZjQ2ZDE4MzFhMjg3ZDRhNzgyZjkyLnNldENvbnRlbnQoaHRtbF9hOTI5ZjRiM2RiODU0NGFjYjgwYzIxZDg2NzIzY2QwMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2U5ZGE2ZTQ5OGMyYTRjYTI5ZWZlM2M4YTgwMWFiNzdjLmJpbmRQb3B1cChwb3B1cF84YjczZjlkMGI1M2Y0NmQxODMxYTI4N2Q0YTc4MmY5Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl84ODY4MGU1YjhlM2E0ZWRiOTdkNjBiZDYwZmUwZTAxYSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNjgxNDQwMjMyOTE4LC0xMjIuMzMyNjc5OTY3NTMzNzhdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q1ZjM0MmZhNTQxNzQzYzM5NDI4YmI2MWZiMWNmOTg2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg1ZTRmYmI4Y2MzODQwYjFhZTc2MDExMWU5MDMzMjQyID0gJCgnPGRpdiBpZD0iaHRtbF84NWU0ZmJiOGNjMzg0MGIxYWU3NjAxMTFlOTAzMzI0MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RnJlc2h5JiMzOTtzIENvZmZlZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDVmMzQyZmE1NDE3NDNjMzk0MjhiYjYxZmIxY2Y5ODYuc2V0Q29udGVudChodG1sXzg1ZTRmYmI4Y2MzODQwYjFhZTc2MDExMWU5MDMzMjQyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfODg2ODBlNWI4ZTNhNGVkYjk3ZDYwYmQ2MGZlMGUwMWEuYmluZFBvcHVwKHBvcHVwX2Q1ZjM0MmZhNTQxNzQzYzM5NDI4YmI2MWZiMWNmOTg2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzgwNjRhZmEzNGFkZjRjNDdiNDdhODM4MTVlNjdiNDEzID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjE3MjU3NTc3NjEzMzQ0LC0xMjIuMzM4MjIwMTU3NTQyM10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGJlNTZmNDk4NjgxNDZmZThmYzY4MzhlOWQ3NGQ0YTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzNlMjg3NzQ3NjZhNDZhZGEyNTgxY2Q0MzMyMDI3ZDggPSAkKCc8ZGl2IGlkPSJodG1sX2MzZTI4Nzc0NzY2YTQ2YWRhMjU4MWNkNDMzMjAyN2Q4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Nb25vcmFpbCBFc3ByZXNzbzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGJlNTZmNDk4NjgxNDZmZThmYzY4MzhlOWQ3NGQ0YTUuc2V0Q29udGVudChodG1sX2MzZTI4Nzc0NzY2YTQ2YWRhMjU4MWNkNDMzMjAyN2Q4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfODA2NGFmYTM0YWRmNGM0N2I0N2E4MzgxNWU2N2I0MTMuYmluZFBvcHVwKHBvcHVwXzhiZTU2ZjQ5ODY4MTQ2ZmU4ZmM2ODM4ZTlkNzRkNGE1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzIyNGE0N2FkYTM1MDQ3NzNiNjk3NjA4M2E5NGUxZmI1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNTk5MDQwOCwtMTIyLjMyNDg3MTFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc4YjViNWY2Mjc2MDRmZmRiNWU2MjQ0MzEyNGM2MDIxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc0NWNjYTcwMTQzMTRlMzhhOTQ3NGZhM2U0N2Q5OWJlID0gJCgnPGRpdiBpZD0iaHRtbF83NDVjY2E3MDE0MzE0ZTM4YTk0NzRmYTNlNDdkOTliZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Vml0YWwgVGVhIExlYWY8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc4YjViNWY2Mjc2MDRmZmRiNWU2MjQ0MzEyNGM2MDIxLnNldENvbnRlbnQoaHRtbF83NDVjY2E3MDE0MzE0ZTM4YTk0NzRmYTNlNDdkOTliZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzIyNGE0N2FkYTM1MDQ3NzNiNjk3NjA4M2E5NGUxZmI1LmJpbmRQb3B1cChwb3B1cF83OGI1YjVmNjI3NjA0ZmZkYjVlNjI0NDMxMjRjNjAyMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl85MDM2ZGY3Y2U0NWI0OGQ3OGMyZTU4OWY5ODNhNTU3YyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwNzU0MDQwNDUyNTQ4LC0xMjIuMzE2NjQzNzM1OTY0OTRdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRhNmI0ZmU2MzZlYzRiY2ZhNzZiOTM5NTk4Y2Y0OTU4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJhYTAwNWNhZmQ4OTQ2ODE5MjQ0ODdiMTI4MmIxMDU4ID0gJCgnPGRpdiBpZD0iaHRtbF8yYWEwMDVjYWZkODk0NjgxOTI0NDg3YjEyODJiMTA1OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hlcnJ5IFN0cmVldCBDb2ZmZWUgSG91c2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRhNmI0ZmU2MzZlYzRiY2ZhNzZiOTM5NTk4Y2Y0OTU4LnNldENvbnRlbnQoaHRtbF8yYWEwMDVjYWZkODk0NjgxOTI0NDg3YjEyODJiMTA1OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzkwMzZkZjdjZTQ1YjQ4ZDc4YzJlNTg5Zjk4M2E1NTdjLmJpbmRQb3B1cChwb3B1cF80YTZiNGZlNjM2ZWM0YmNmYTc2YjkzOTU5OGNmNDk1OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl85NDY0NTIxZjIwMzc0ODJjODRjYTU4MWRjZmEyMTIwMyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNTc3NTgwNzI2MzI1NSwtMTIyLjMzODEwNTM1NjIzODYzXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMzkwMTIxYzZhMjk0YmNkODJmMzUwZGQ3Mjk3NWYxMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zNDI4ZDA3MzI4NDM0NGU4YTc2MDBhMzgzYmQ2YjM0MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMzQyOGQwNzMyODQzNDRlOGE3NjAwYTM4M2JkNmIzNDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhZmUgU3Vpc3NlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hMzkwMTIxYzZhMjk0YmNkODJmMzUwZGQ3Mjk3NWYxMi5zZXRDb250ZW50KGh0bWxfMzQyOGQwNzMyODQzNDRlOGE3NjAwYTM4M2JkNmIzNDEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl85NDY0NTIxZjIwMzc0ODJjODRjYTU4MWRjZmEyMTIwMy5iaW5kUG9wdXAocG9wdXBfYTM5MDEyMWM2YTI5NGJjZDgyZjM1MGRkNzI5NzVmMTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYzlkZDkxNTZiZDQ0NDIwODliMzljZDMwZjg2MjU4ZTEgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MjAyMzIzOTk3MTA2OCwtMTIyLjMzMDUwODQzMjQ3ODM0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82NTdlY2I1NjgzNjk0MDBiYjY5NTE3Y2U3Yjk5ODllOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83MGZhZDIwZDg3YjM0NDdjOWExY2UzNjhlYWE1ZDMwMSA9ICQoJzxkaXYgaWQ9Imh0bWxfNzBmYWQyMGQ4N2IzNDQ3YzlhMWNlMzY4ZWFhNWQzMDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVzcHJlc3NvIFZpdmFjZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjU3ZWNiNTY4MzY5NDAwYmI2OTUxN2NlN2I5OTg5ZTkuc2V0Q29udGVudChodG1sXzcwZmFkMjBkODdiMzQ0N2M5YTFjZTM2OGVhYTVkMzAxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYzlkZDkxNTZiZDQ0NDIwODliMzljZDMwZjg2MjU4ZTEuYmluZFBvcHVwKHBvcHVwXzY1N2VjYjU2ODM2OTQwMGJiNjk1MTdjZTdiOTk4OWU5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzdjMDE5MjFjOTU2MTQwODM4NWViM2NkZDU0ODU0NzdhID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEzNTg0LC0xMjIuMzM1Njc2XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zOTgzMzBhMDNiM2I0YWE0OWFmZWM1YWIyYjBiZWU0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mOTNkMGJkNTE1YjU0YTMxYTY1NDMzNWYzN2U2ZGVmNCA9ICQoJzxkaXYgaWQ9Imh0bWxfZjkzZDBiZDUxNWI1NGEzMWE2NTQzMzVmMzdlNmRlZjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhZmZlIFNlbnNvIFVuaWNvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zOTgzMzBhMDNiM2I0YWE0OWFmZWM1YWIyYjBiZWU0My5zZXRDb250ZW50KGh0bWxfZjkzZDBiZDUxNWI1NGEzMWE2NTQzMzVmMzdlNmRlZjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl83YzAxOTIxYzk1NjE0MDgzODVlYjNjZGQ1NDg1NDc3YS5iaW5kUG9wdXAocG9wdXBfMzk4MzMwYTAzYjNiNGFhNDlhZmVjNWFiMmIwYmVlNDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMmNlN2U3MDg0ZmY5NDEzZmE0MDk4ZDVlMmNmNWNhOWUgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTM5NDksLTEyMi4zMTkwNTJdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJjYTU5MjBhYzc1OTQxYzM4MGUzMTcwZGNmZDZjOTgzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q4ZGE3NDQ2OGI2YTQxNTBiMmMyNjhhMjY0YzgwNmIyID0gJCgnPGRpdiBpZD0iaHRtbF9kOGRhNzQ0NjhiNmE0MTUwYjJjMjY4YTI2NGM4MDZiMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FmZsOpIFZpdGE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJjYTU5MjBhYzc1OTQxYzM4MGUzMTcwZGNmZDZjOTgzLnNldENvbnRlbnQoaHRtbF9kOGRhNzQ0NjhiNmE0MTUwYjJjMjY4YTI2NGM4MDZiMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzJjZTdlNzA4NGZmOTQxM2ZhNDA5OGQ1ZTJjZjVjYTllLmJpbmRQb3B1cChwb3B1cF8yY2E1OTIwYWM3NTk0MWMzODBlMzE3MGRjZmQ2Yzk4Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl83NzkxMWVlYTBlNGM0OTVlYWNmZTY1ZDNiMzUzMGExNiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYyMDc2OCwtMTIyLjMyNTQ0OF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjY0MTNhMTJjNWQ0NGNiOGIxZjc0MWFkMGEwNTg5NDMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2ViNTE3ZGY0ZWRhNDNkOWE5YTExM2E1NTcwZDdmYWYgPSAkKCc8ZGl2IGlkPSJodG1sXzdlYjUxN2RmNGVkYTQzZDlhOWExMTNhNTU3MGQ3ZmFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BbmFsb2cgQ29mZmVlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82NjQxM2ExMmM1ZDQ0Y2I4YjFmNzQxYWQwYTA1ODk0My5zZXRDb250ZW50KGh0bWxfN2ViNTE3ZGY0ZWRhNDNkOWE5YTExM2E1NTcwZDdmYWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl83NzkxMWVlYTBlNGM0OTVlYWNmZTY1ZDNiMzUzMGExNi5iaW5kUG9wdXAocG9wdXBfNjY0MTNhMTJjNWQ0NGNiOGIxZjc0MWFkMGEwNTg5NDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNzIzNWUzYmRlOGNjNDNjMGIwNjA0ZWY1MjQ5OTg2MGIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MjA3OTY4NzczNzYxNiwtMTIyLjMzNDcxMjc5MzU0MDAyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNTE2OTlmZTljOWM0OGFkOGU5MjBlNDdkNzE0M2E0OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MmUxZjI3NzY1ZDg0ZDJjOGI0MWEwOWZlYWVhNmVmNSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjJlMWYyNzc2NWQ4NGQyYzhiNDFhMDlmZWFlYTZlZjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhc2NhZGUgQ29mZmVlIFdvcmtzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jNTE2OTlmZTljOWM0OGFkOGU5MjBlNDdkNzE0M2E0OC5zZXRDb250ZW50KGh0bWxfNjJlMWYyNzc2NWQ4NGQyYzhiNDFhMDlmZWFlYTZlZjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl83MjM1ZTNiZGU4Y2M0M2MwYjA2MDRlZjUyNDk5ODYwYi5iaW5kUG9wdXAocG9wdXBfYzUxNjk5ZmU5YzljNDhhZDhlOTIwZTQ3ZDcxNDNhNDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZmY0OTI2OTQyYmQ5NDIwYTg3MzkxNzExOTQwMmE1MWIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny41OTg0NDkwOTk4NzYwNywtMTIyLjMyNzMwNjIyNjk2NTE4XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lYTQ3ZjcyZmI3ODQ0YmRlOWViNWJhZGUxZTk4NTY0YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80MTljNDZjYWZjNjI0OGUzOThhYmQ1YjA2YTY5OTJiMSA9ICQoJzxkaXYgaWQ9Imh0bWxfNDE5YzQ2Y2FmYzYyNDhlMzk4YWJkNWIwNmE2OTkyYjEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNlYXR0bGUgQmVzdCBUZWE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2VhNDdmNzJmYjc4NDRiZGU5ZWI1YmFkZTFlOTg1NjRiLnNldENvbnRlbnQoaHRtbF80MTljNDZjYWZjNjI0OGUzOThhYmQ1YjA2YTY5OTJiMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2ZmNDkyNjk0MmJkOTQyMGE4NzM5MTcxMTk0MDJhNTFiLmJpbmRQb3B1cChwb3B1cF9lYTQ3ZjcyZmI3ODQ0YmRlOWViNWJhZGUxZTk4NTY0Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl80NzNhODllMzgxZjM0MTdhYTI0ODVhMDM4MjdmZTNiNCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNTI2Njk0NTQ5NDM1LC0xMjIuMzI3Mjg3ODEyNzcxMTVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NmMzU2Zjc5MDBlYTRmMjdhZmFmZDk4N2FjNWM2MjhhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NhY2MzOTVkOGY2ZTRlZTM5YTZkZDhiNGM0YjA1YWM3ID0gJCgnPGRpdiBpZD0iaHRtbF9jYWNjMzk1ZDhmNmU0ZWUzOWE2ZGQ4YjRjNGIwNWFjNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hlcnJ5IFN0cmVldCBDb2ZmZWUgSG91c2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NmMzU2Zjc5MDBlYTRmMjdhZmFmZDk4N2FjNWM2MjhhLnNldENvbnRlbnQoaHRtbF9jYWNjMzk1ZDhmNmU0ZWUzOWE2ZGQ4YjRjNGIwNWFjNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzQ3M2E4OWUzODFmMzQxN2FhMjQ4NWEwMzgyN2ZlM2I0LmJpbmRQb3B1cChwb3B1cF9jZjM1NmY3OTAwZWE0ZjI3YWZhZmQ5ODdhYzVjNjI4YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9mYTM0NTRlZDJhZWE0NTEwYjE2MjhmOGI0NzlmMGVmMyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMDIwMjUyNDQwNzYyNiwtMTIyLjM0MjE0Nzk3NjgyOTg1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NWRiNTEzNTY4ZDg0ODcwYWRlMGJlNDRmZGVlMDRmMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wYzVjODYyNjYxNWY0MWM0OTRlMjlmZWIwY2ZjNWNkZiA9ICQoJzxkaXYgaWQ9Imh0bWxfMGM1Yzg2MjY2MTVmNDFjNDk0ZTI5ZmViMGNmYzVjZGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBlcmVubmlhbCBUZWEgUm9vbTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODVkYjUxMzU2OGQ4NDg3MGFkZTBiZTQ0ZmRlZTA0ZjMuc2V0Q29udGVudChodG1sXzBjNWM4NjI2NjE1ZjQxYzQ5NGUyOWZlYjBjZmM1Y2RmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZmEzNDU0ZWQyYWVhNDUxMGIxNjI4ZjhiNDc5ZjBlZjMuYmluZFBvcHVwKHBvcHVwXzg1ZGI1MTM1NjhkODQ4NzBhZGUwYmU0NGZkZWUwNGYzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2M0OTEwNGZhMTQ1ZDRmMjg4OWIyNDBjNjNjNjU1MDc4ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEyMjQxNTkyMDM4MzksLTEyMi4zNDQ3NDAyMTM5MDQxMl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTgwZTQwODc0ZmNkNDY1MDgwYmNhOGQ5MzM3YTgwN2YgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzRiZTM2ZjU4NDY1NGJjMTk5ZjJkZjUzMjhiYzNiNDAgPSAkKCc8ZGl2IGlkPSJodG1sXzM0YmUzNmY1ODQ2NTRiYzE5OWYyZGY1MzI4YmMzYjQwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGVycnkgU3RyZWV0IENvZmZlZSBIb3VzZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTgwZTQwODc0ZmNkNDY1MDgwYmNhOGQ5MzM3YTgwN2Yuc2V0Q29udGVudChodG1sXzM0YmUzNmY1ODQ2NTRiYzE5OWYyZGY1MzI4YmMzYjQwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYzQ5MTA0ZmExNDVkNGYyODg5YjI0MGM2M2M2NTUwNzguYmluZFBvcHVwKHBvcHVwXzU4MGU0MDg3NGZjZDQ2NTA4MGJjYThkOTMzN2E4MDdmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzE0ZmJhYzkxMjdmNjQxZmViYjQ4YjViNWZjMWFiMjExID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjE1NTczNDA3ODAzMTEsLTEyMi4zMzkwOTk4NDg5MDQ4OF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWRmNjcwYTU2YzBlNDFhYmFiOTQ0ZTM5ODQ0NTI3ZjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGYwY2NhOTdjZWY1NGExMTlmNTM0ODM2MGZiYTVjYTUgPSAkKCc8ZGl2IGlkPSJodG1sXzhmMGNjYTk3Y2VmNTRhMTE5ZjUzNDgzNjBmYmE1Y2E1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HZW5lcmFsIFBvcnBvaXNlIENvZmZlZSAmYW1wOyBEb251dHM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FkZjY3MGE1NmMwZTQxYWJhYjk0NGUzOTg0NDUyN2Y0LnNldENvbnRlbnQoaHRtbF84ZjBjY2E5N2NlZjU0YTExOWY1MzQ4MzYwZmJhNWNhNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzE0ZmJhYzkxMjdmNjQxZmViYjQ4YjViNWZjMWFiMjExLmJpbmRQb3B1cChwb3B1cF9hZGY2NzBhNTZjMGU0MWFiYWI5NDRlMzk4NDQ1MjdmNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8wNjRmZDYzN2U2ODc0OTZiYTg1MmZmMjVhMzMyOWNhMiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNDk5NTQzMDU2MDUxLC0xMjIuMzMzNjUyNjc5MjY0MDZdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJlZmQwYzExNWVkNjQzMjdiZTNlOTZkMWVhYjdlODFlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRhYzAxMWMxNDJkNDQ1MDZiODI3N2FkMDE3MGMwODkwID0gJCgnPGRpdiBpZD0iaHRtbF80YWMwMTFjMTQyZDQ0NTA2YjgyNzdhZDAxNzBjMDg5MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FmZmUgTGFkcm88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzJlZmQwYzExNWVkNjQzMjdiZTNlOTZkMWVhYjdlODFlLnNldENvbnRlbnQoaHRtbF80YWMwMTFjMTQyZDQ0NTA2YjgyNzdhZDAxNzBjMDg5MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzA2NGZkNjM3ZTY4NzQ5NmJhODUyZmYyNWEzMzI5Y2EyLmJpbmRQb3B1cChwb3B1cF8yZWZkMGMxMTVlZDY0MzI3YmUzZTk2ZDFlYWI3ZTgxZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9jNDc0NDA0ZTFlMzk0MTMzYjQ4OTIyY2UyYmY2OGIxMSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYyMDU2OTk5NDc4Mjk3NiwtMTIyLjMzOTU1ODU3NzI3NDE4XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zZDEyZmZjODQ0OGQ0ZGE1OWViYjg4YjdmMjI4OGY1NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMmEyMDJhZWM3OWU0NDZlYTJlMzlhZjBiYjJjNzA0ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfMTJhMjAyYWVjNzllNDQ2ZWEyZTM5YWYwYmIyYzcwNGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVsbSBDb2ZmZWUgUm9hc3RlcnM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNkMTJmZmM4NDQ4ZDRkYTU5ZWJiODhiN2YyMjg4ZjU0LnNldENvbnRlbnQoaHRtbF8xMmEyMDJhZWM3OWU0NDZlYTJlMzlhZjBiYjJjNzA0ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2M0NzQ0MDRlMWUzOTQxMzNiNDg5MjJjZTJiZjY4YjExLmJpbmRQb3B1cChwb3B1cF8zZDEyZmZjODQ0OGQ0ZGE1OWViYjg4YjdmMjI4OGY1NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl83MjFjMzkzMTllNmI0YzBhOThiNjIyYmU3NmE0YzhiYSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMzk0ODQ2MDU4NCwtMTIyLjM0NTQ4MzI4OTU1NTg0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iMmNjYmNiOTkyMzQ0ZDJhYTI4MzEwY2JhODQ3YzQ3YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kOGE2ODA1NzczYjE0MTc1YmZiNDhkOWYzMzRiZDRkZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZDhhNjgwNTc3M2IxNDE3NWJmYjQ4ZDlmMzM0YmQ0ZGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJlZGxhbSBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IyY2NiY2I5OTIzNDRkMmFhMjgzMTBjYmE4NDdjNDdjLnNldENvbnRlbnQoaHRtbF9kOGE2ODA1NzczYjE0MTc1YmZiNDhkOWYzMzRiZDRkZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzcyMWMzOTMxOWU2YjRjMGE5OGI2MjJiZTc2YTRjOGJhLmJpbmRQb3B1cChwb3B1cF9iMmNjYmNiOTkyMzQ0ZDJhYTI4MzEwY2JhODQ3YzQ3Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl84MDBjMzFkMzQ4MGM0YTk3OWRiY2ZjZWUyOWIyMmMyMyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYyMTUxMDQ3NjE4MDYyLC0xMjIuMzM5NjIwNzU4NjUzNTddLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U1MmVhYjU5M2NhZTRiZWY4MmU2OWQyMDllYzIzNWM3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgwNWFhYTkyMDU3YjRlODJhMzRjZDk3NzUzZmY3NWYwID0gJCgnPGRpdiBpZD0iaHRtbF84MDVhYWE5MjA1N2I0ZTgyYTM0Y2Q5Nzc1M2ZmNzVmMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGVya2ltZXIgQ29mZmVlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lNTJlYWI1OTNjYWU0YmVmODJlNjlkMjA5ZWMyMzVjNy5zZXRDb250ZW50KGh0bWxfODA1YWFhOTIwNTdiNGU4MmEzNGNkOTc3NTNmZjc1ZjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl84MDBjMzFkMzQ4MGM0YTk3OWRiY2ZjZWUyOWIyMmMyMy5iaW5kUG9wdXAocG9wdXBfZTUyZWFiNTkzY2FlNGJlZjgyZTY5ZDIwOWVjMjM1YzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZjMxNTZlMDc4ODQ1NGI1YThkNjJhZjlkYjE4MmRhY2QgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTQ1MjcxODQyMzY0MiwtMTIyLjMxNDA5MDYwODA1NTMxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80YjZkZGZiZWZlNGE0ZmI1YWU0YmQ5ZTBkY2QyMzYzMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85ZjNjNGVlMTFlMDM0OWYzOTdmMjdmZmZmZjEwODAyYyA9ICQoJzxkaXYgaWQ9Imh0bWxfOWYzYzRlZTExZTAzNDlmMzk3ZjI3ZmZmZmYxMDgwMmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBvcmNobGlnaHQgQ29mZmVlICZhbXA7IFJlY29yZHM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRiNmRkZmJlZmU0YTRmYjVhZTRiZDllMGRjZDIzNjMwLnNldENvbnRlbnQoaHRtbF85ZjNjNGVlMTFlMDM0OWYzOTdmMjdmZmZmZjEwODAyYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2YzMTU2ZTA3ODg0NTRiNWE4ZDYyYWY5ZGIxODJkYWNkLmJpbmRQb3B1cChwb3B1cF80YjZkZGZiZWZlNGE0ZmI1YWU0YmQ5ZTBkY2QyMzYzMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl81YTliMTU1NzUzYTQ0NWQyYTY4ZDVmMGIxMWRiMDYxYSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYyMDc3OTg4NTg5MjExLC0xMjIuMzM5ODI4MTAzMzA4NTNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZlNGViZTJhNzEwNTQ1YTVhZDFkZDVlYzMzMWU4YzEyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNiYzVlMWQ4MjU5NDQ3M2Y5NGM1ZmEyMzdkYjg2MTNiID0gJCgnPGRpdiBpZD0iaHRtbF8zYmM1ZTFkODI1OTQ0NzNmOTRjNWZhMjM3ZGI4NjEzYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXZva2UgQ29mZmVlIENvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mZTRlYmUyYTcxMDU0NWE1YWQxZGQ1ZWMzMzFlOGMxMi5zZXRDb250ZW50KGh0bWxfM2JjNWUxZDgyNTk0NDczZjk0YzVmYTIzN2RiODYxM2IpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl81YTliMTU1NzUzYTQ0NWQyYTY4ZDVmMGIxMWRiMDYxYS5iaW5kUG9wdXAocG9wdXBfZmU0ZWJlMmE3MTA1NDVhNWFkMWRkNWVjMzMxZThjMTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYzE0YWI2ODlkMzk2NGVhOTk4NTJmYWM5MDkzMGRhZmMgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MjE2MzM2Mjc4MTUyMTQsLTEyMi4zMjEwNTY1OTg5NzM4MV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjgxNmFkOTI5MzY4NGFhZDg1OWYwZTY2MjcwNWQwNzcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNmYwMzFlYmI5NmRmNDI0Nzk1MTQ3ZDY5YjQ3ZjIyMzggPSAkKCc8ZGl2IGlkPSJodG1sXzZmMDMxZWJiOTZkZjQyNDc5NTE0N2Q2OWI0N2YyMjM4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Fc3ByZXNzbyBWaXZhY2UgU2lkZXdhbGsgQmFyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yODE2YWQ5MjkzNjg0YWFkODU5ZjBlNjYyNzA1ZDA3Ny5zZXRDb250ZW50KGh0bWxfNmYwMzFlYmI5NmRmNDI0Nzk1MTQ3ZDY5YjQ3ZjIyMzgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9jMTRhYjY4OWQzOTY0ZWE5OTg1MmZhYzkwOTMwZGFmYy5iaW5kUG9wdXAocG9wdXBfMjgxNmFkOTI5MzY4NGFhZDg1OWYwZTY2MjcwNWQwNzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNTM5YmFmM2YzMTBkNGY3N2IxODY1ODFlOTYxYzc5ODcgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MjA4NTIsLTEyMi4zMzE0NjddLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE4MzBiM2UzMDViMjQxMWI4ZmQ5MTVhMWJiNDFlNmQ0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZiNzNjOTI3ODJlODQ2MGU5MGYwZTBlNzQzMmQwNzM3ID0gJCgnPGRpdiBpZD0iaHRtbF82YjczYzkyNzgyZTg0NjBlOTBmMGUwZTc0MzJkMDczNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FmZSBIYWdlbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTgzMGIzZTMwNWIyNDExYjhmZDkxNWExYmI0MWU2ZDQuc2V0Q29udGVudChodG1sXzZiNzNjOTI3ODJlODQ2MGU5MGYwZTBlNzQzMmQwNzM3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNTM5YmFmM2YzMTBkNGY3N2IxODY1ODFlOTYxYzc5ODcuYmluZFBvcHVwKHBvcHVwXzE4MzBiM2UzMDViMjQxMWI4ZmQ5MTVhMWJiNDFlNmQ0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzYyMjM5YmI1YzMyNDQ2ZjlhNGM4OGNhODZmMGEwMzU3ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjIzMjkxMzEyNzg3MzgsLTEyMi4zMzQyMzM2NTYzNjM3OF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2E4NzAwZmE0ZTlmNGYyNzhlNjcwNjlmOWJhMzM1OTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMThmODJkYWQzNWRjNDQ5NmI1NWU0YTZiNDMwZTAzNmQgPSAkKCc8ZGl2IGlkPSJodG1sXzE4ZjgyZGFkMzVkYzQ0OTZiNTVlNGE2YjQzMGUwMzZkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaGVycnkgU3RyZWV0IENvZmZlZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2E4NzAwZmE0ZTlmNGYyNzhlNjcwNjlmOWJhMzM1OTAuc2V0Q29udGVudChodG1sXzE4ZjgyZGFkMzVkYzQ0OTZiNTVlNGE2YjQzMGUwMzZkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNjIyMzliYjVjMzI0NDZmOWE0Yzg4Y2E4NmYwYTAzNTcuYmluZFBvcHVwKHBvcHVwXzNhODcwMGZhNGU5ZjRmMjc4ZTY3MDY5ZjliYTMzNTkwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2M1NTM0NTE3ZjYzNzQyYzA4NjMyZjExNmEyMTNjMDRjID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEyODE0MjMyMDczNTc1LC0xMjIuMzE4NzIyNjYwOTQ3MzddLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE5Y2M5YzUzYThlNjRkODdiYjIwYzNmNDQ3MmE1MTY5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y0M2M1N2MwOTgyNjRjOTc4NjI5NmZjMTZmYWM5NDc1ID0gJCgnPGRpdiBpZD0iaHRtbF9mNDNjNTdjMDk4MjY0Yzk3ODYyOTZmYzE2ZmFjOTQ3NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TcOpdGllcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTljYzljNTNhOGU2NGQ4N2JiMjBjM2Y0NDcyYTUxNjkuc2V0Q29udGVudChodG1sX2Y0M2M1N2MwOTgyNjRjOTc4NjI5NmZjMTZmYWM5NDc1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYzU1MzQ1MTdmNjM3NDJjMDg2MzJmMTE2YTIxM2MwNGMuYmluZFBvcHVwKHBvcHVwXzE5Y2M5YzUzYThlNjRkODdiYjIwYzNmNDQ3MmE1MTY5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2VjYWEwM2RlNTZjYTRhZjhhZmMwZDg4NmEwZWQxNDc0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjEzMjg4MjM0ODQyMDUsLTEyMi4zMDg3MzEyNTI3NTU5Ml0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDNhM2IyZWEwZTk1NGIxMmIyM2QzYTQzMzI1MzE2NDMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzBlNjA3NGQwZGIyNDkyZmI1MDEzOTgzNWU3NTgzY2EgPSAkKCc8ZGl2IGlkPSJodG1sXzMwZTYwNzRkMGRiMjQ5MmZiNTAxMzk4MzVlNzU4M2NhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ub3VnbyBDb2ZmZWUgQ28uPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kM2EzYjJlYTBlOTU0YjEyYjIzZDNhNDMzMjUzMTY0My5zZXRDb250ZW50KGh0bWxfMzBlNjA3NGQwZGIyNDkyZmI1MDEzOTgzNWU3NTgzY2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9lY2FhMDNkZTU2Y2E0YWY4YWZjMGQ4ODZhMGVkMTQ3NC5iaW5kUG9wdXAocG9wdXBfZDNhM2IyZWEwZTk1NGIxMmIyM2QzYTQzMzI1MzE2NDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYzBmMjY4OGZlNGE4NDY4M2I4MDNhZGMwYTIxN2IxMzcgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MjIzNjA3Njg2MzQwOCwtMTIyLjMzNDMxNDg5NzY4MjMzXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85Yzc4MDNmNzBlMGE0MDJiODMwMDQwYTljNzA1NTY3NSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMDNiOGJiOTkzMTk0YTUyYTU1ZjE0NmZjZTY3NDExYyA9ICQoJzxkaXYgaWQ9Imh0bWxfYzAzYjhiYjk5MzE5NGE1MmE1NWYxNDZmY2U2NzQxMWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkp1aWN5IENhZmU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzljNzgwM2Y3MGUwYTQwMmI4MzAwNDBhOWM3MDU1Njc1LnNldENvbnRlbnQoaHRtbF9jMDNiOGJiOTkzMTk0YTUyYTU1ZjE0NmZjZTY3NDExYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2MwZjI2ODhmZTRhODQ2ODNiODAzYWRjMGEyMTdiMTM3LmJpbmRQb3B1cChwb3B1cF85Yzc4MDNmNzBlMGE0MDJiODMwMDQwYTljNzA1NTY3NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yNzQ5Mzk5ZTJmN2E0MDgxYjkwOTcyNGI4MjlmYTdkOCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYyMjQ4NjUyMjc3MjI3LC0xMjIuMzM4NzE1MzQwNjU2MzFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYzNDY4NjQ2MzRiYjQ2ZDI4ZTcxYjMyZjY1MzhlY2U4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ0NGQ1NGE1MzhhZDRkNGM5ZmJkNzJlNzg2MDM1NjhmID0gJCgnPGRpdiBpZD0iaHRtbF80NDRkNTRhNTM4YWQ0ZDRjOWZiZDcyZTc4NjAzNTY4ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2FrYW88L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYzNDY4NjQ2MzRiYjQ2ZDI4ZTcxYjMyZjY1MzhlY2U4LnNldENvbnRlbnQoaHRtbF80NDRkNTRhNTM4YWQ0ZDRjOWZiZDcyZTc4NjAzNTY4Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzI3NDkzOTllMmY3YTQwODFiOTA5NzI0YjgyOWZhN2Q4LmJpbmRQb3B1cChwb3B1cF82MzQ2ODY0NjM0YmI0NmQyOGU3MWIzMmY2NTM4ZWNlOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl80MmM1YmJjNzM0MTI0MTRlODFhZjc2NmU3OTVhYzFjNSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNzM5NzEyOTA1MDMzLC0xMjIuMzQ5MzM4MjMxMTEwNTVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZhMzRmYjA3OTAyOTRjZDNhNTNiMDFmZWNlMzJjMjZkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzUzYjkyM2Q4ODA3OTQ2MGRhMzBmYzQwODYxMTQ2OGFkID0gJCgnPGRpdiBpZD0iaHRtbF81M2I5MjNkODgwNzk0NjBkYTMwZmM0MDg2MTE0NjhhZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3RyZWV0IEJlYW4gRXNwcmVzc288L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZhMzRmYjA3OTAyOTRjZDNhNTNiMDFmZWNlMzJjMjZkLnNldENvbnRlbnQoaHRtbF81M2I5MjNkODgwNzk0NjBkYTMwZmM0MDg2MTE0NjhhZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzQyYzViYmM3MzQxMjQxNGU4MWFmNzY2ZTc5NWFjMWM1LmJpbmRQb3B1cChwb3B1cF82YTM0ZmIwNzkwMjk0Y2QzYTUzYjAxZmVjZTMyYzI2ZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8zYTE0ZWQzZTkwYzY0MjlkOWRjNzhiNzk4OTI5MzNkMiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYyMjc4MzIyMzk4MDQxLC0xMjIuMzQxMzEzNjQzNDE1MzJdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JjNmY1M2I4MTk5MjRlNDc4ZjU4MGY2YjE5YzBkZjg0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NlMTk0NTEwNTMyNjRiMWFhMzE5MmM0Y2YwYTBhOTVkID0gJCgnPGRpdiBpZD0iaHRtbF9jZTE5NDUxMDUzMjY0YjFhYTMxOTJjNGNmMGEwYTk1ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RnJlc2ggRmxvdXJzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iYzZmNTNiODE5OTI0ZTQ3OGY1ODBmNmIxOWMwZGY4NC5zZXRDb250ZW50KGh0bWxfY2UxOTQ1MTA1MzI2NGIxYWEzMTkyYzRjZjBhMGE5NWQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8zYTE0ZWQzZTkwYzY0MjlkOWRjNzhiNzk4OTI5MzNkMi5iaW5kUG9wdXAocG9wdXBfYmM2ZjUzYjgxOTkyNGU0NzhmNTgwZjZiMTljMGRmODQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNDZiYThjZjE2MTI4NDY1NDhiM2Q1ZWFjMzlhZDhmODEgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDUwNTQsLTEyMi4zMzAyMTFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU0YWRmOGM4MjEyMTQ3OTU5Y2Y1ZGM1OGIyYWFkNzc3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZjYTkyZTE4NDczNDQ4ZjBiOWRhOTUyZDJhMGVmZDBhID0gJCgnPGRpdiBpZD0iaHRtbF82Y2E5MmUxODQ3MzQ0OGYwYjlkYTk1MmQyYTBlZmQwYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3RhcmJ1Y2tzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81NGFkZjhjODIxMjE0Nzk1OWNmNWRjNThiMmFhZDc3Ny5zZXRDb250ZW50KGh0bWxfNmNhOTJlMTg0NzM0NDhmMGI5ZGE5NTJkMmEwZWZkMGEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl80NmJhOGNmMTYxMjg0NjU0OGIzZDVlYWMzOWFkOGY4MS5iaW5kUG9wdXAocG9wdXBfNTRhZGY4YzgyMTIxNDc5NTljZjVkYzU4YjJhYWQ3NzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZDQ5MGIyZGUzN2RhNGI3OWE2Mzk1MWFhNWZkYzhkYzkgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTk0NzYxMDA0NDg1OCwtMTIyLjM0NzIzMjM5MTg4Mjk1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wODIxMzg0YjFjMjI0ZjU1YTA1OTEzZGMxNGQ5MDFiOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMjAyYTc2ZWIxZTQ0ODk4YjlkYjdkYzA3YWU3ZmM4MCA9ICQoJzxkaXYgaWQ9Imh0bWxfZDIwMmE3NmViMWU0NDg5OGI5ZGI3ZGMwN2FlN2ZjODAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlFFRCBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA4MjEzODRiMWMyMjRmNTVhMDU5MTNkYzE0ZDkwMWI4LnNldENvbnRlbnQoaHRtbF9kMjAyYTc2ZWIxZTQ0ODk4YjlkYjdkYzA3YWU3ZmM4MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2Q0OTBiMmRlMzdkYTRiNzlhNjM5NTFhYTVmZGM4ZGM5LmJpbmRQb3B1cChwb3B1cF8wODIxMzg0YjFjMjI0ZjU1YTA1OTEzZGMxNGQ5MDFiOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yYmM4ODBkZWRlOGQ0ZmM0OGMwZDRlMWM3OTg5Mzk2NyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNjM4Njk3MjgwODI4LC0xMjIuMzE3MjA5OTI3MTk4ODVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JhZTIyNzU4MTZkYjQ5MDhiYjM0YTQ4MGEyYWFkOTMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzgxZDc5MDQ1ZGU2ZjRmNTQ5MmM4ZTQwOWNlOGIwMGE0ID0gJCgnPGRpdiBpZD0iaHRtbF84MWQ3OTA0NWRlNmY0ZjU0OTJjOGU0MDljZThiMDBhNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FmZSBBcmdlbnRvPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iYWUyMjc1ODE2ZGI0OTA4YmIzNGE0ODBhMmFhZDkzMy5zZXRDb250ZW50KGh0bWxfODFkNzkwNDVkZTZmNGY1NDkyYzhlNDA5Y2U4YjAwYTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8yYmM4ODBkZWRlOGQ0ZmM0OGMwZDRlMWM3OTg5Mzk2Ny5iaW5kUG9wdXAocG9wdXBfYmFlMjI3NTgxNmRiNDkwOGJiMzRhNDgwYTJhYWQ5MzMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNDBlY2JkMTRjOTFjNDVmMDk1N2VhOWY5OTVmMmMxMDggPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTY5MDA4OTEwMzM2MywtMTIyLjM0NjM2MzY3MTk3MjI3XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ODA2YjgwNGEyNjY0N2YxYTQxOTU0ZjA0NDk2ZTJhOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lOTdjOTE5Y2QzMWQ0ODQ5ODRiNmUwYzYzMWFkYWY3ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfZTk3YzkxOWNkMzFkNDg0OTg0YjZlMGM2MzFhZGFmN2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlVwdG93biBFc3ByZXNzbzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzgwNmI4MDRhMjY2NDdmMWE0MTk1NGYwNDQ5NmUyYTkuc2V0Q29udGVudChodG1sX2U5N2M5MTljZDMxZDQ4NDk4NGI2ZTBjNjMxYWRhZjdlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNDBlY2JkMTRjOTFjNDVmMDk1N2VhOWY5OTVmMmMxMDguYmluZFBvcHVwKHBvcHVwXzc4MDZiODA0YTI2NjQ3ZjFhNDE5NTRmMDQ0OTZlMmE5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzdjNjIzMjdiNDkyYzQ2YmNiMWVkM2UzZTdkOTNmMzc2ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjAyMjEyNDMwMjQ0ODgsLTEyMi4zMzA4MTk1MjEyMTU2XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jMTE3YTI4Mzg4NTQ0NzdkOGNiZTRkMTEwOGZhNzFlOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wZGIzOGZhMzRhZTA0ZDA3YmY3MTVhM2I2MWJmMjE3YiA9ICQoJzxkaXYgaWQ9Imh0bWxfMGRiMzhmYTM0YWUwNGQwN2JmNzE1YTNiNjFiZjIxN2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZsYW1lIENhdGVyaW5nIENhZmU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MxMTdhMjgzODg1NDQ3N2Q4Y2JlNGQxMTA4ZmE3MWU5LnNldENvbnRlbnQoaHRtbF8wZGIzOGZhMzRhZTA0ZDA3YmY3MTVhM2I2MWJmMjE3Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzdjNjIzMjdiNDkyYzQ2YmNiMWVkM2UzZTdkOTNmMzc2LmJpbmRQb3B1cChwb3B1cF9jMTE3YTI4Mzg4NTQ0NzdkOGNiZTRkMTEwOGZhNzFlOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9mNmMwMWI0MjE2NjA0NTk2YWNlNTFhMzMzMmRhNWQzZCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwNTcyMTgxMzM4NzU4LC0xMjIuMzMyMDM0MTI0MDYwNzFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VkN2EzMzcwMDRjMTQxZDJiYTQzNGViYjAxZGE0MThlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI5MThhMTU2MTQzYTRiN2E5N2Y1YzhlOTI3NThmOWJjID0gJCgnPGRpdiBpZD0iaHRtbF8yOTE4YTE1NjE0M2E0YjdhOTdmNWM4ZTkyNzU4ZjliYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FmZSA1aXZlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZDdhMzM3MDA0YzE0MWQyYmE0MzRlYmIwMWRhNDE4ZS5zZXRDb250ZW50KGh0bWxfMjkxOGExNTYxNDNhNGI3YTk3ZjVjOGU5Mjc1OGY5YmMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9mNmMwMWI0MjE2NjA0NTk2YWNlNTFhMzMzMmRhNWQzZC5iaW5kUG9wdXAocG9wdXBfZWQ3YTMzNzAwNGMxNDFkMmJhNDM0ZWJiMDFkYTQxOGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfOGMyNTY1YTI4MmZhNGExY2JlNGY2OTAzMDJkMGQ1YmYgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDYxODAxMDE0MDk5MDUsLTEyMi4zMzU5Nzk2MjI0NTA2XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNzQ0NjU3NTYwNzg0ZDI5YjE3MTc4MDg5ZjE3YTdiYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yYTVhMTFmOTU3ZjE0ZTk2YWNjNjkwYTQ0NTcyNGZkNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMmE1YTExZjk1N2YxNGU5NmFjYzY5MGE0NDU3MjRmZDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldhbGxhIFdhbGxhIEZhcm1zIENhZsOpIGFuZCBDYXRlcmluZzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzc0NDY1NzU2MDc4NGQyOWIxNzE3ODA4OWYxN2E3YmMuc2V0Q29udGVudChodG1sXzJhNWExMWY5NTdmMTRlOTZhY2M2OTBhNDQ1NzI0ZmQ3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOGMyNTY1YTI4MmZhNGExY2JlNGY2OTAzMDJkMGQ1YmYuYmluZFBvcHVwKHBvcHVwX2M3NDQ2NTc1NjA3ODRkMjliMTcxNzgwODlmMTdhN2JjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzhjNzkxZWMyYzc1YTQyYjdiMThmNDcxNGJiMjRlMTE1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjA4NDAyOTAyMTQ3MTA1LC0xMjIuMzM2NDEyMTc5NDM1OTRdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk2OWQwNThkZTFjZTRhZDlhMDljZjVlYjhhMjJkODE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NlYTg2NjMxZDhhYTQ2NDI5MGI0Y2I0OTBmMmE5ZTIyID0gJCgnPGRpdiBpZD0iaHRtbF9jZWE4NjYzMWQ4YWE0NjQyOTBiNGNiNDkwZjJhOWUyMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SG9ub3IgQ29mZmVlICZhbXA7IFRlYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTY5ZDA1OGRlMWNlNGFkOWEwOWNmNWViOGEyMmQ4MTUuc2V0Q29udGVudChodG1sX2NlYTg2NjMxZDhhYTQ2NDI5MGI0Y2I0OTBmMmE5ZTIyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOGM3OTFlYzJjNzVhNDJiN2IxOGY0NzE0YmIyNGUxMTUuYmluZFBvcHVwKHBvcHVwXzk2OWQwNThkZTFjZTRhZDlhMDljZjVlYjhhMjJkODE1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2FkZjk0NWM3Y2ZiOTRjNTZhMDhkZmQyOGQ5MDJhNDBjID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjE3OTM0ODI5Nzk3NjU1LC0xMjIuMzQ2MjU2ODYwODc1MTNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JlOTlmZTMzZTg2ZDQwMzliYjBmYWY3Mjk1N2FkNDNhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNiYjljNmQ3ZDBjMzRiMWE4YWNmY2Y4MTJhYzg1M2Q5ID0gJCgnPGRpdiBpZD0iaHRtbF8zYmI5YzZkN2QwYzM0YjFhOGFjZmNmODEyYWM4NTNkOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QXJ0aXNhbiBDYWZlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZTk5ZmUzM2U4NmQ0MDM5YmIwZmFmNzI5NTdhZDQzYS5zZXRDb250ZW50KGh0bWxfM2JiOWM2ZDdkMGMzNGIxYThhY2ZjZjgxMmFjODUzZDkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9hZGY5NDVjN2NmYjk0YzU2YTA4ZGZkMjhkOTAyYTQwYy5iaW5kUG9wdXAocG9wdXBfYmU5OWZlMzNlODZkNDAzOWJiMGZhZjcyOTU3YWQ0M2EpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZmIyZTYzNjhiMzcyNDczODllODVhNTNiMzkwMDY5MTAgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MjE4NzEsLTEyMi4zMzg4NTddLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZiNzE4Y2I2ODU5MjRlYmFhNzVlMDIyNGMyZDE2ZmUxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhmNzNjYzdhMWEzZTQ2MjE4YjEyZDRmYWEyY2MzZGQ5ID0gJCgnPGRpdiBpZD0iaHRtbF84ZjczY2M3YTFhM2U0NjIxOGIxMmQ0ZmFhMmNjM2RkOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2FwaXRhbCBPbmUgQ2Fmw6k8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZiNzE4Y2I2ODU5MjRlYmFhNzVlMDIyNGMyZDE2ZmUxLnNldENvbnRlbnQoaHRtbF84ZjczY2M3YTFhM2U0NjIxOGIxMmQ0ZmFhMmNjM2RkOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2ZiMmU2MzY4YjM3MjQ3Mzg5ZTg1YTUzYjM5MDA2OTEwLmJpbmRQb3B1cChwb3B1cF9mYjcxOGNiNjg1OTI0ZWJhYTc1ZTAyMjRjMmQxNmZlMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8zNzJlYTkwMDJhMDc0YmExODQ2NmM0YWJmMTE1NzA4NCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwMzY4OSwtMTIyLjMzMjUwMl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjkwNDMzYjUzNzhlNDRmZjlhOTNmODk1MzNlZWE5MGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjNhNzZmZmY5ZDdlNDc2OWFkNWI5NTM0Zjc4MDVjNjYgPSAkKCc8ZGl2IGlkPSJodG1sX2YzYTc2ZmZmOWQ3ZTQ3NjlhZDViOTUzNGY3ODA1YzY2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QZWdhc3VzIENvZmZlZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjkwNDMzYjUzNzhlNDRmZjlhOTNmODk1MzNlZWE5MGMuc2V0Q29udGVudChodG1sX2YzYTc2ZmZmOWQ3ZTQ3NjlhZDViOTUzNGY3ODA1YzY2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMzcyZWE5MDAyYTA3NGJhMTg0NjZjNGFiZjExNTcwODQuYmluZFBvcHVwKHBvcHVwX2I5MDQzM2I1Mzc4ZTQ0ZmY5YTkzZjg5NTMzZWVhOTBjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzE1NzFhYjliMmQwNTRiMWM5ZmY2MzZiZjU4ZDk3NjdkID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDcuNjA2Njk1MzI2NjUxMjU2LC0xMjIuMzMyMTYxOTkzOTE1MDFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJmOTFkZDQ2NDQ0YjQyMDdiMDZiN2VkMGM5MDg5Nzg2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzA1NjZhNWQwNjBiYTRhNjk5ZjNmZDhlZjE2MWI3ZDg4ID0gJCgnPGRpdiBpZD0iaHRtbF8wNTY2YTVkMDYwYmE0YTY5OWYzZmQ4ZWYxNjFiN2Q4OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hvY29sYXRpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yZjkxZGQ0NjQ0NGI0MjA3YjA2YjdlZDBjOTA4OTc4Ni5zZXRDb250ZW50KGh0bWxfMDU2NmE1ZDA2MGJhNGE2OTlmM2ZkOGVmMTYxYjdkODgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8xNTcxYWI5YjJkMDU0YjFjOWZmNjM2YmY1OGQ5NzY3ZC5iaW5kUG9wdXAocG9wdXBfMmY5MWRkNDY0NDRiNDIwN2IwNmI3ZWQwYzkwODk3ODYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZDJhYzQwNTQ4MDJiNGRkZGIwMmQ0Y2Q2NDVmMGRmMTEgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MjI2NTk1ODg2NDg2OSwtMTIyLjMzNTk5MTIxMzYwNjc1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wM2ZlNmY3NGM0NDU0MWY5ODE1NzdlYWNjY2QzN2M5ZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82ODQzYTU5MzM1MDk0NjJkOTM2NTM1NGMzMDIxMjJiYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjg0M2E1OTMzNTA5NDYyZDkzNjUzNTRjMzAyMTIyYmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhZmZlIFZpdGEgLSBBbWF6b248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAzZmU2Zjc0YzQ0NTQxZjk4MTU3N2VhY2NjZDM3YzlmLnNldENvbnRlbnQoaHRtbF82ODQzYTU5MzM1MDk0NjJkOTM2NTM1NGMzMDIxMjJiYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2QyYWM0MDU0ODAyYjRkZGRiMDJkNGNkNjQ1ZjBkZjExLmJpbmRQb3B1cChwb3B1cF8wM2ZlNmY3NGM0NDU0MWY5ODE1NzdlYWNjY2QzN2M5Zik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9jMzQzMDBlZDNlNjE0NGI3ODYxM2ZhNDFmNTlkNjExNCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMDcwMywtMTIyLjMzMzQ5NF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzVkYWE3ZjkzZjEyNDdhNWE1MWUxMDIwMzM1NGUxZjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODBmMGY4ZGE4YWVkNDlhODg5ZTQ4NDk2MmJlYzU3MDQgPSAkKCc8ZGl2IGlkPSJodG1sXzgwZjBmOGRhOGFlZDQ5YTg4OWU0ODQ5NjJiZWM1NzA0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdGFyYnVja3M8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc1ZGFhN2Y5M2YxMjQ3YTVhNTFlMTAyMDMzNTRlMWY2LnNldENvbnRlbnQoaHRtbF84MGYwZjhkYThhZWQ0OWE4ODllNDg0OTYyYmVjNTcwNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2MzNDMwMGVkM2U2MTQ0Yjc4NjEzZmE0MWY1OWQ2MTE0LmJpbmRQb3B1cChwb3B1cF83NWRhYTdmOTNmMTI0N2E1YTUxZTEwMjAzMzU0ZTFmNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl83MDE2YzIyNjVjNDg0ZTg2ODljNGE3YzcxZDU1MWRjMCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwODI2OCwtMTIyLjMzODM4M10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDk3N2ZhZGJlNTUxNDgxZDk3YjZmODczMDc3YWE0OWEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjljMmQyZDQ3MWZmNDgyZjlmOWVmOTNhYTZhZDdkMTIgPSAkKCc8ZGl2IGlkPSJodG1sXzY5YzJkMmQ0NzFmZjQ4MmY5ZjllZjkzYWE2YWQ3ZDEyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdGFyYnVja3M8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ5NzdmYWRiZTU1MTQ4MWQ5N2I2Zjg3MzA3N2FhNDlhLnNldENvbnRlbnQoaHRtbF82OWMyZDJkNDcxZmY0ODJmOWY5ZWY5M2FhNmFkN2QxMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzcwMTZjMjI2NWM0ODRlODY4OWM0YTdjNzFkNTUxZGMwLmJpbmRQb3B1cChwb3B1cF80OTc3ZmFkYmU1NTE0ODFkOTdiNmY4NzMwNzdhYTQ5YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8wMmZiMDNiM2Q5NTU0MzdjOGQyNDQ4OWQ2MjQ0Yjc0YiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwNzM5MDIwNTY1MDA4LC0xMjIuMzQyNDI0NTg3NzI5OTVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JiYTU3Y2Y5MzVmOTQzMjk4ZWM0ZmE1YWZjYjgyZWE0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RiZThkZTRjN2VmZTRmYjk5NGFjNWU3ZjM4NmJjYTg1ID0gJCgnPGRpdiBpZD0iaHRtbF9kYmU4ZGU0YzdlZmU0ZmI5OTRhYzVlN2YzODZiY2E4NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2VhdHRsZSBBcXVhcml1bSBDYWZlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iYmE1N2NmOTM1Zjk0MzI5OGVjNGZhNWFmY2I4MmVhNC5zZXRDb250ZW50KGh0bWxfZGJlOGRlNGM3ZWZlNGZiOTk0YWM1ZTdmMzg2YmNhODUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8wMmZiMDNiM2Q5NTU0MzdjOGQyNDQ4OWQ2MjQ0Yjc0Yi5iaW5kUG9wdXAocG9wdXBfYmJhNTdjZjkzNWY5NDMyOThlYzRmYTVhZmNiODJlYTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfOWVjNGY1ZDkyYzQxNDRlYmE0ZjJkZThhOTc1MjFmMjYgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDU0NTMsLTEyMi4zMzAyNV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWU2MTJkOTVjYzgzNGU4MDlkMDQ5Mjc1YTZlYmE0ZmUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMThjMjBkMDM3YWIyNDk2MGEwNjFjOGQ3YTNkYTg3NzggPSAkKCc8ZGl2IGlkPSJodG1sXzE4YzIwZDAzN2FiMjQ5NjBhMDYxYzhkN2EzZGE4Nzc4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdGFyYnVja3M8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzllNjEyZDk1Y2M4MzRlODA5ZDA0OTI3NWE2ZWJhNGZlLnNldENvbnRlbnQoaHRtbF8xOGMyMGQwMzdhYjI0OTYwYTA2MWM4ZDdhM2RhODc3OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzllYzRmNWQ5MmM0MTQ0ZWJhNGYyZGU4YTk3NTIxZjI2LmJpbmRQb3B1cChwb3B1cF85ZTYxMmQ5NWNjODM0ZTgwOWQwNDkyNzVhNmViYTRmZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl83OTQwNTY1ODQ0NTc0MWI3OTliMTRjZDE1ZWE4YTcyNSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMjM0MDE5Njk4MTIsLTEyMi4zMzYwNTc0MjQ1NDUyOV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDViNDU4OTdiN2M4NGMxOGIzYTAxMTMzMWE4NDg4YmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWM2ZGNkZTIxZDAzNDE2NmEyZTU3YTMwN2Y3MmE2MGUgPSAkKCc8ZGl2IGlkPSJodG1sX2VjNmRjZGUyMWQwMzQxNjZhMmU1N2EzMDdmNzJhNjBlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYmFyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kNWI0NTg5N2I3Yzg0YzE4YjNhMDExMzMxYTg0ODhiZC5zZXRDb250ZW50KGh0bWxfZWM2ZGNkZTIxZDAzNDE2NmEyZTU3YTMwN2Y3MmE2MGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl83OTQwNTY1ODQ0NTc0MWI3OTliMTRjZDE1ZWE4YTcyNS5iaW5kUG9wdXAocG9wdXBfZDViNDU4OTdiN2M4NGMxOGIzYTAxMTMzMWE4NDg4YmQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNGYwMGM0NjYwM2E2NGE4MGJiYjgwZjI0OGVmZjI1OWIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MjM4NiwtMTIyLjMzNTUyNl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmY0YTg1MTNlZDZhNGZmMWEzOWNlMWI4MTA4ZjJlMDAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODU0ZWVkNmViYWY4NDFjNjg1ZmJlYjNjOWVlNzE1MTcgPSAkKCc8ZGl2IGlkPSJodG1sXzg1NGVlZDZlYmFmODQxYzY4NWZiZWIzYzllZTcxNTE3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5WaWN0cm9sYSBDb2ZmZWUgUm9hc3RlcnMgKEFtYXpvbiBDYW1wdXMpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZjRhODUxM2VkNmE0ZmYxYTM5Y2UxYjgxMDhmMmUwMC5zZXRDb250ZW50KGh0bWxfODU0ZWVkNmViYWY4NDFjNjg1ZmJlYjNjOWVlNzE1MTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl80ZjAwYzQ2NjAzYTY0YTgwYmJiODBmMjQ4ZWZmMjU5Yi5iaW5kUG9wdXAocG9wdXBfYmY0YTg1MTNlZDZhNGZmMWEzOWNlMWI4MTA4ZjJlMDApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMDYxYzcxMzNhZjc3NGE0ODg0YTQ3M2Y0YjgyZmRjZjUgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDE2OTI2MjkwNTU1NCwtMTIyLjMzNDM0NzcyMjk4OTk2XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ZThkNjcxZTBjNTY0NjQzYmZlNWI2OTFlZWNkYTk3NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85ZjkwNTZmZDU1ZjE0MzFkYjAxYWJlZDlhYTBhNzkxZSA9ICQoJzxkaXYgaWQ9Imh0bWxfOWY5MDU2ZmQ1NWYxNDMxZGIwMWFiZWQ5YWEwYTc5MWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhZmbDqSBEJiMzOTthcnRlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80ZThkNjcxZTBjNTY0NjQzYmZlNWI2OTFlZWNkYTk3Ny5zZXRDb250ZW50KGh0bWxfOWY5MDU2ZmQ1NWYxNDMxZGIwMWFiZWQ5YWEwYTc5MWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8wNjFjNzEzM2FmNzc0YTQ4ODRhNDczZjRiODJmZGNmNS5iaW5kUG9wdXAocG9wdXBfNGU4ZDY3MWUwYzU2NDY0M2JmZTViNjkxZWVjZGE5NzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMjYxNTNlM2IzNzY4NGFkNDhjNzlmNmNlNGY0YjczZGEgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTI2ODc0MTU5NDQ0ODUsLTEyMi4zMzc2MTQ0ODYzNTIzMl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDcyNWJiMTQ4NWFiNDYxMDhkMjI1ZjU1MmFjY2JmMTAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzM4ODI2MzhmYWU3NDhiODhhMGU3NDNhYThhZGMzMjUgPSAkKCc8ZGl2IGlkPSJodG1sXzczODgyNjM4ZmFlNzQ4Yjg4YTBlNzQzYWE4YWRjMzI1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EaWxldHRhbnRlIE1vY2hhIENhZsOpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kNzI1YmIxNDg1YWI0NjEwOGQyMjVmNTUyYWNjYmYxMC5zZXRDb250ZW50KGh0bWxfNzM4ODI2MzhmYWU3NDhiODhhMGU3NDNhYThhZGMzMjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8yNjE1M2UzYjM3Njg0YWQ0OGM3OWY2Y2U0ZjRiNzNkYS5iaW5kUG9wdXAocG9wdXBfZDcyNWJiMTQ4NWFiNDYxMDhkMjI1ZjU1MmFjY2JmMTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNjkzOTY5Yjc0YzBhNGUyZDg4ODk0MTNlYWFhYmU1NTkgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDUyODYsLTEyMi4zMzQzN10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzA2NjA0NGY0N2JiNGRkNWI1ODM5OGQ0NzZjNDMwOTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMGRmMTZmZTc1ZTg5NDNkN2I0MDU2ZjU0MjFhYmEzODQgPSAkKCc8ZGl2IGlkPSJodG1sXzBkZjE2ZmU3NWU4OTQzZDdiNDA1NmY1NDIxYWJhMzg0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdGFyYnVja3M8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMwNjYwNDRmNDdiYjRkZDViNTgzOThkNDc2YzQzMDk4LnNldENvbnRlbnQoaHRtbF8wZGYxNmZlNzVlODk0M2Q3YjQwNTZmNTQyMWFiYTM4NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzY5Mzk2OWI3NGMwYTRlMmQ4ODg5NDEzZWFhYWJlNTU5LmJpbmRQb3B1cChwb3B1cF8zMDY2MDQ0ZjQ3YmI0ZGQ1YjU4Mzk4ZDQ3NmM0MzA5OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yYWIxMDA2NjEwZDQ0NjZkOTNjNGI5NjA1MTBjYzg5OCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMjkzMjMzNjc0NzI5LC0xMjIuMzM3MDE2ODEyMTY4NzRdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFhNGU4ZTg1NzE1OTQzMDM4YjMwOWE4MTIyNzVjNTQ2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U1NDZkYTdmZjc0NjQ5MzA4NzJiODhhOGIxMzEzZjRiID0gJCgnPGRpdiBpZD0iaHRtbF9lNTQ2ZGE3ZmY3NDY0OTMwODcyYjg4YThiMTMxM2Y0YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2hlcnJ5IFN0cmVldCBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFhNGU4ZTg1NzE1OTQzMDM4YjMwOWE4MTIyNzVjNTQ2LnNldENvbnRlbnQoaHRtbF9lNTQ2ZGE3ZmY3NDY0OTMwODcyYjg4YThiMTMxM2Y0Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzJhYjEwMDY2MTBkNDQ2NmQ5M2M0Yjk2MDUxMGNjODk4LmJpbmRQb3B1cChwb3B1cF8xYTRlOGU4NTcxNTk0MzAzOGIzMDlhODEyMjc1YzU0Nik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9kOGJhYWM2OGYwMjk0NGVhYmYwOTYzMTViOTU1OWIyMSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxMTU3NiwtMTIyLjM0NTYwM10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMmQyMjA3YjZkNmQ4NDkzYjkzOWE0NDVhYWQ4OGM1OTgpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzM0ZWE3YjNkMDg5NGVkZTg0YjZlMDRlNDQ4YTc4NWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmE5YmU1YjQ2ZTc4NGJkZmI5NGI0YWU5MGU1ZTg2N2QgPSAkKCc8ZGl2IGlkPSJodG1sX2JhOWJlNWI0NmU3ODRiZGZiOTRiNGFlOTBlNWU4NjdkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DZWRhciAmYW1wOyBTcG9rZXM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzczNGVhN2IzZDA4OTRlZGU4NGI2ZTA0ZTQ0OGE3ODVkLnNldENvbnRlbnQoaHRtbF9iYTliZTViNDZlNzg0YmRmYjk0YjRhZTkwZTVlODY3ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2Q4YmFhYzY4ZjAyOTQ0ZWFiZjA5NjMxNWI5NTU5YjIxLmJpbmRQb3B1cChwb3B1cF83MzRlYTdiM2QwODk0ZWRlODRiNmUwNGU0NDhhNzg1ZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9jYzNjM2NiMmNhNzI0MjI5ODkxN2JjNzc4ZTJiYmZiNCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwNjg5MTMyMzcyMzQ1LC0xMjIuMzMzNjIxNTg2NjczMjVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzJkMjIwN2I2ZDZkODQ5M2I5MzlhNDQ1YWFkODhjNTk4KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y5ODg5ZDA0NTBmMjQ3ZTdiZDJkMDNiYzkxODNmZTgxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q2NTk0M2UzYTY2ODQyMTI5MmU5ODBhMDM0Y2ExZWU3ID0gJCgnPGRpdiBpZD0iaHRtbF9kNjU5NDNlM2E2Njg0MjEyOTJlOTgwYTAzNGNhMWVlNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Vm92aXRvIEVzcHJlc3NvIEdlbGF0byBCYXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y5ODg5ZDA0NTBmMjQ3ZTdiZDJkMDNiYzkxODNmZTgxLnNldENvbnRlbnQoaHRtbF9kNjU5NDNlM2E2Njg0MjEyOTJlOTgwYTAzNGNhMWVlNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2NjM2MzY2IyY2E3MjQyMjk4OTE3YmM3NzhlMmJiZmI0LmJpbmRQb3B1cChwb3B1cF9mOTg4OWQwNDUwZjI0N2U3YmQyZDAzYmM5MTgzZmU4MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9kNzMyMzhiOGFjZTU0MGMwOGE1NmYxOWExZmFiNjBhZSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYxNTkyMDQ2MTE0NDQwNSwtMTIyLjMyNjkxMTY0OTM3NTkzXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mYTlhZWYyNGZlYjA0NTNjYmZmNTE2YTIwYmU1N2I1NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83ZjU3ZGIxM2MzNTQ0ZWEzODljM2ZkZmUwNjA3ZDg0NiA9ICQoJzxkaXYgaWQ9Imh0bWxfN2Y1N2RiMTNjMzU0NGVhMzg5YzNmZGZlMDYwN2Q4NDYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkdob3N0IE5vdGUgQ29mZmVlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mYTlhZWYyNGZlYjA0NTNjYmZmNTE2YTIwYmU1N2I1Ni5zZXRDb250ZW50KGh0bWxfN2Y1N2RiMTNjMzU0NGVhMzg5YzNmZGZlMDYwN2Q4NDYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9kNzMyMzhiOGFjZTU0MGMwOGE1NmYxOWExZmFiNjBhZS5iaW5kUG9wdXAocG9wdXBfZmE5YWVmMjRmZWIwNDUzY2JmZjUxNmEyMGJlNTdiNTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfOTc0ZjM1NTQ2YzMyNGRkMGE5NjQzMTAyMDA1YTkzY2EgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny41OTc3NjE2ODM1ODE0OCwtMTIyLjMyODA3MzAwNTk1MTQ1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8yZDIyMDdiNmQ2ZDg0OTNiOTM5YTQ0NWFhZDg4YzU5OCk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jYmY3NGY0YzYxNzA0ZThkOTM5YzNiOGI5ZTUzZWNmNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NmEzODY4MWJhZGU0ZjU0YWI5MGYwOWQzZDc4Y2ZhMCA9ICQoJzxkaXYgaWQ9Imh0bWxfNDZhMzg2ODFiYWRlNGY1NGFiOTBmMDlkM2Q3OGNmYTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNwZWNpYWx0eeKAmXMgQ2Fmw6kgJmFtcDsgQmFrZXJ5PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jYmY3NGY0YzYxNzA0ZThkOTM5YzNiOGI5ZTUzZWNmNy5zZXRDb250ZW50KGh0bWxfNDZhMzg2ODFiYWRlNGY1NGFiOTBmMDlkM2Q3OGNmYTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl85NzRmMzU1NDZjMzI0ZGQwYTk2NDMxMDIwMDVhOTNjYS5iaW5kUG9wdXAocG9wdXBfY2JmNzRmNGM2MTcwNGU4ZDkzOWMzYjhiOWU1M2VjZjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg== onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>",
                        "text/plain": "<folium.folium.Map at 0x7fa5a8110dd8>"
                    },
                    "execution_count": 77,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "from folium import plugins\n\n#Map of Seattle\nseattle_map = folium.Map(location=[47.6062, -122.3321], tiles='Stamen Toner', zoom_start=14)\n\n#Instantiate a mark cluster object for the stores in the dataframe\nshops = folium.plugins.MarkerCluster().add_to(seattle_map)\n\n#Loop through the dataframe and add each data point to the mark cluster\nfor lat, lng, label, in zip(seattle_coffee_shops.lat, seattle_coffee_shops.lng, seattle_coffee_shops.name):\n    folium.Marker(\n        location=[lat, lng],\n        icon=None,\n        popup=folium.Popup(label, parse_html=True)\n    ).add_to(shops)\n\n#Display map\nseattle_map"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Get all of the Starbucks locations in Downtown Seattle"
        },
        {
            "cell_type": "code",
            "execution_count": 78,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>id</th>\n      <th>lat</th>\n      <th>lng</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>73</th>\n      <td>Starbucks</td>\n      <td>4adf37bdf964a520677821e3</td>\n      <td>47.605054</td>\n      <td>-122.330211</td>\n    </tr>\n    <tr>\n      <th>86</th>\n      <td>Starbucks</td>\n      <td>5c7b51173fffb40025ffd274</td>\n      <td>47.610703</td>\n      <td>-122.333494</td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>Starbucks</td>\n      <td>5a0390ff51950e0aa487d16e</td>\n      <td>47.608268</td>\n      <td>-122.338383</td>\n    </tr>\n    <tr>\n      <th>89</th>\n      <td>Starbucks</td>\n      <td>5050c269e4b020e9ae019bf2</td>\n      <td>47.605453</td>\n      <td>-122.330250</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>Starbucks</td>\n      <td>5293a854498e45b5f668644b</td>\n      <td>47.605286</td>\n      <td>-122.334370</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "         name                        id        lat         lng\n73  Starbucks  4adf37bdf964a520677821e3  47.605054 -122.330211\n86  Starbucks  5c7b51173fffb40025ffd274  47.610703 -122.333494\n87  Starbucks  5a0390ff51950e0aa487d16e  47.608268 -122.338383\n89  Starbucks  5050c269e4b020e9ae019bf2  47.605453 -122.330250\n94  Starbucks  5293a854498e45b5f668644b  47.605286 -122.334370"
                    },
                    "execution_count": 78,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "seattle_coffee_shops.loc[seattle_coffee_shops['name'] == 'Starbucks']"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Get the engagement information & ratings of each Starbucks location using the Foursqaure API"
        },
        {
            "cell_type": "code",
            "execution_count": 79,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[73] using Foursquare API\n\n#Define the URl\nstarbucks73_url = 'https://api.foursquare.com/v2/venues/4adf37bdf964a520677821e3?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_73_results = requests.get(starbucks73_url).json()\n\n#Create Dataframe\nstarbucks_73 = starbucks_73_results['response']\n\n# Flatten JSON\nstarbucks_73_details = json_normalize(starbucks_73)\n\n# Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_73_details =starbucks_73_details.loc[:, filtered_columns]\n\n# Clean Columns\nstarbucks_73_details.columns = [col.split(\".\")[-1] for col in starbucks_73_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 80,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[86] using Foursquare API\n\n#Define the URl\nstarbucks86_url = 'https://api.foursquare.com/v2/venues/5c7b51173fffb40025ffd274?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_86_results = requests.get(starbucks86_url).json()\n\n#Create Dataframe\nstarbucks_86 = starbucks_86_results['response']\nstarbucks_86_details = json_normalize(starbucks_86) # flatten JSON\n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_86_details =starbucks_86_details.loc[:, filtered_columns]\n\n#Clean Columns\nstarbucks_86_details.columns = [col.split(\".\")[-1] for col in starbucks_86_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 81,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[87] using Foursquare API\n\n#Define the URl\nstarbucks87_url = 'https://api.foursquare.com/v2/venues/5a0390ff51950e0aa487d16e?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_87_results = requests.get(starbucks87_url).json()\n\n#Create Dataframe\nstarbucks_87 = starbucks_87_results['response']\n\n#Flatten JSON\nstarbucks_87_details = json_normalize(starbucks_87)\n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_87_details =starbucks_87_details.loc[:, filtered_columns]\n\n#Clean Columns\nstarbucks_87_details.columns = [col.split(\".\")[-1] for col in starbucks_87_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 82,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[89] using Foursquare API\n\n#Define the URl\nstarbucks89_url = 'https://api.foursquare.com/v2/venues/5050c269e4b020e9ae019bf2?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_89_results = requests.get(starbucks89_url).json()\n\n#Create Dataframe\nstarbucks_89 = starbucks_89_results['response']\n\n#Flatten JSON\nstarbucks_89_details = json_normalize(starbucks_89) \n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_89_details =starbucks_89_details.loc[:, filtered_columns]\n\n#Clean Columns\nstarbucks_89_details.columns = [col.split(\".\")[-1] for col in starbucks_89_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 83,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[94] using Foursquare API\n\n#Define the URl\nstarbucks94_url = 'https://api.foursquare.com/v2/venues/5293a854498e45b5f668644b?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_94_results = requests.get(starbucks94_url).json()\n\n#Create Coffee Shops Dataframe\nstarbucks_94 = starbucks_94_results['response']\n\n# Flatten JSON\nstarbucks_94_details = json_normalize(starbucks_94)\n\n# Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_94_details =starbucks_94_details.loc[:, filtered_columns]\n\n# Clean Columns\nstarbucks_94_details.columns = [col.split(\".\")[-1] for col in starbucks_94_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 84,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>id</th>\n      <th>lat</th>\n      <th>lng</th>\n      <th>price_tier</th>\n      <th>likes</th>\n      <th>tip_count</th>\n      <th>rating</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>4adf37bdf964a520677821e3</td>\n      <td>47.605054</td>\n      <td>-122.330211</td>\n      <td>1</td>\n      <td>24</td>\n      <td>5</td>\n      <td>7.3</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5c7b51173fffb40025ffd274</td>\n      <td>47.610703</td>\n      <td>-122.333494</td>\n      <td>1</td>\n      <td>2</td>\n      <td>0</td>\n      <td>7.2</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5a0390ff51950e0aa487d16e</td>\n      <td>47.608268</td>\n      <td>-122.338383</td>\n      <td>1</td>\n      <td>2</td>\n      <td>0</td>\n      <td>7.1</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5050c269e4b020e9ae019bf2</td>\n      <td>47.605453</td>\n      <td>-122.330250</td>\n      <td>1</td>\n      <td>5</td>\n      <td>2</td>\n      <td>6.9</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5293a854498e45b5f668644b</td>\n      <td>47.605286</td>\n      <td>-122.334370</td>\n      <td>1</td>\n      <td>22</td>\n      <td>2</td>\n      <td>6.8</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "        name                        id        lat         lng  price_tier  \\\n0  Starbucks  4adf37bdf964a520677821e3  47.605054 -122.330211           1   \n0  Starbucks  5c7b51173fffb40025ffd274  47.610703 -122.333494           1   \n0  Starbucks  5a0390ff51950e0aa487d16e  47.608268 -122.338383           1   \n0  Starbucks  5050c269e4b020e9ae019bf2  47.605453 -122.330250           1   \n0  Starbucks  5293a854498e45b5f668644b  47.605286 -122.334370           1   \n\n   likes  tip_count  rating  \n0     24          5     7.3  \n0      2          0     7.2  \n0      2          0     7.1  \n0      5          2     6.9  \n0     22          2     6.8  "
                    },
                    "execution_count": 84,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Combine Dataframes\n\nstarbucks_details = [starbucks_73_details, starbucks_86_details,starbucks_87_details, starbucks_89_details, starbucks_94_details ]\nstarbucks_details = pd.concat(starbucks_details)\nstarbucks_details.rename(columns = {'tier': 'price_tier', 'tipCount': 'tip_count', 'count':'likes' }, inplace= True)\n\n#Verify Dataframe\nstarbucks_details"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Now, let's explore New York Coffee Shops using Foursquare API "
        },
        {
            "cell_type": "code",
            "execution_count": 88,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>id</th>\n      <th>lat</th>\n      <th>lng</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>The Wooly Daily</td>\n      <td>56093809498e5344ab8835a6</td>\n      <td>40.712137</td>\n      <td>-74.008395</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Birch Coffee</td>\n      <td>56e7f585498ed6598b4030cd</td>\n      <td>40.710759</td>\n      <td>-74.005953</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Blue Spoon Coffee Co.</td>\n      <td>49c79540f964a520af571fe3</td>\n      <td>40.714428</td>\n      <td>-74.006859</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>Pisillo Italian Cafe</td>\n      <td>588a4316326c5a4b60559f17</td>\n      <td>40.710493</td>\n      <td>-74.007546</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>Konditori</td>\n      <td>5953e5314382ab0b3b808dc6</td>\n      <td>40.709474</td>\n      <td>-74.006630</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "                    name                        id        lat        lng\n0        The Wooly Daily  56093809498e5344ab8835a6  40.712137 -74.008395\n1           Birch Coffee  56e7f585498ed6598b4030cd  40.710759 -74.005953\n2  Blue Spoon Coffee Co.  49c79540f964a520af571fe3  40.714428 -74.006859\n3   Pisillo Italian Cafe  588a4316326c5a4b60559f17  40.710493 -74.007546\n4              Konditori  5953e5314382ab0b3b808dc6  40.709474 -74.006630"
                    },
                    "execution_count": 88,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Define Parameters \n\nradius = 500\nlimit = 100\nlat = 40.7128\nlon = -74.0060\ncategory = \"4bf58dd8d48988d1e0931735\"\n\n#Define the URl\n    # Category ID corresponding to coffee shops was taken from the Foursquare web site (https://developer.foursquare.com/docs/resources/categories):\n\nurl = 'https://api.foursquare.com/v2/venues/explore?client_id={}&client_secret={}&v={}&ll={},{}&categoryId={}&radius={}&limit={}'.format(\n        client_id, client_secret, version, lat, lon, category, radius, limit)\n\n#Send the GET Request\nnew_york_results = requests.get(url).json()\n\n#Create Coffee Shops Dataframe\n\nnew_coffee_shops = new_york_results['response']['groups'][0]['items']\n\n#Flatten JSON\nny_coffee_shops = json_normalize(new_coffee_shops)\n\n#Filter columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng']\nny_coffee_shops =ny_coffee_shops.loc[:, filtered_columns]\n\n#Clean columns\nny_coffee_shops.columns = [col.split(\".\")[-1] for col in ny_coffee_shops.columns]\nny_coffee_shops.head()"
        },
        {
            "cell_type": "code",
            "execution_count": 89,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/plain": "(40, 4)"
                    },
                    "execution_count": 89,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "ny_coffee_shops.shape"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Map of all the coffee shops in Downtown New York:"
        },
        {
            "cell_type": "code",
            "execution_count": 90,
            "metadata": {
                "scrolled": true
            },
            "outputs": [
                {
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfZjI2ODkzZDI1NTdkNGI2NTljNWU1ZDAwZjRkNTdjMDUgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQubWFya2VyY2x1c3Rlci8xLjEuMC9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvMS4xLjAvTWFya2VyQ2x1c3Rlci5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbGVhZmxldC5tYXJrZXJjbHVzdGVyLzEuMS4wL01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MiLz4KPC9oZWFkPgo8Ym9keT4gICAgCiAgICAKICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9saXVtLW1hcCIgaWQ9Im1hcF9mMjY4OTNkMjU1N2Q0YjY1OWM1ZTVkMDBmNGQ1N2MwNSIgPjwvZGl2PgogICAgICAgIAo8L2JvZHk+CjxzY3JpcHQ+ICAgIAogICAgCgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBudWxsOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHZhciBtYXBfZjI2ODkzZDI1NTdkNGI2NTljNWU1ZDAwZjRkNTdjMDUgPSBMLm1hcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXBfZjI2ODkzZDI1NTdkNGI2NTljNWU1ZDAwZjRkNTdjMDUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NlbnRlcjogWzQwLjcxMjgsLTc0LjAwNl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfMmYzOWZmZDA4ODJlNDAwY2E4OTY1ZjM3M2NkMWQ0YTMgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3N0YW1lbi10aWxlcy17c30uYS5zc2wuZmFzdGx5Lm5ldC90b25lci97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2YyNjg5M2QyNTU3ZDRiNjU5YzVlNWQwMGY0ZDU3YzA1KTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG1hcF9mMjY4OTNkMjU1N2Q0YjY1OWM1ZTVkMDBmNGQ1N2MwNS5hZGRMYXllcihtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2M0ZmVkZmNkYmIyMzQ0NGQ5OTdlOWFkZGZmMjk4MDQ2ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEyMTM3MjQzNDM2OTgsLTc0LjAwODM5NDU3Njg1MDA1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYjUwMGE1MzNmZWQ0NjFhODExNDEzODFiMzcxZTc2ZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYzliMzgxMjU4YzU0YTQwOWIzOGQ2YWJjNjVkMDg2ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZWM5YjM4MTI1OGM1NGE0MDliMzhkNmFiYzY1ZDA4NmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBXb29seSBEYWlseTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmI1MDBhNTMzZmVkNDYxYTgxMTQxMzgxYjM3MWU3NmYuc2V0Q29udGVudChodG1sX2VjOWIzODEyNThjNTRhNDA5YjM4ZDZhYmM2NWQwODZkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYzRmZWRmY2RiYjIzNDQ0ZDk5N2U5YWRkZmYyOTgwNDYuYmluZFBvcHVwKHBvcHVwX2JiNTAwYTUzM2ZlZDQ2MWE4MTE0MTM4MWIzNzFlNzZmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2M2YWY3MjdkM2NhODQ1MjI5MmYxZDBlZmE1OWVlMGVmID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEwNzU5NDM0OTQzODQsLTc0LjAwNTk1MzQwMDUxMTY0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82NmRlY2ZiNTQ1NjY0MjQ1YjlkNDE1Zjg3M2RlZTk0ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NzA2NWEyYmE4ZmM0OWUxOTgwZTUxOWEyNTdiZWVjMCA9ICQoJzxkaXYgaWQ9Imh0bWxfNjcwNjVhMmJhOGZjNDllMTk4MGU1MTlhMjU3YmVlYzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJpcmNoIENvZmZlZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjZkZWNmYjU0NTY2NDI0NWI5ZDQxNWY4NzNkZWU5NGQuc2V0Q29udGVudChodG1sXzY3MDY1YTJiYThmYzQ5ZTE5ODBlNTE5YTI1N2JlZWMwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYzZhZjcyN2QzY2E4NDUyMjkyZjFkMGVmYTU5ZWUwZWYuYmluZFBvcHVwKHBvcHVwXzY2ZGVjZmI1NDU2NjQyNDViOWQ0MTVmODczZGVlOTRkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2I5NjlmNTg5MTI0MzRkZmZhZDk2NWJhNWZlMzFiY2I2ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzE0NDI3NTg0NjA5NzY2LC03NC4wMDY4NTg1MzMwMTY1MV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzAxMGU1OGFhOTA5NDRkZWIxMWNmNDk4ZGU4N2QwZGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjBlMzA0ZDUwNzJkNDg4ZjhiNzE4OGQ2ZmMzZDlhMTEgPSAkKCc8ZGl2IGlkPSJodG1sXzIwZTMwNGQ1MDcyZDQ4OGY4YjcxODhkNmZjM2Q5YTExIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CbHVlIFNwb29uIENvZmZlZSBDby48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMwMTBlNThhYTkwOTQ0ZGViMTFjZjQ5OGRlODdkMGRlLnNldENvbnRlbnQoaHRtbF8yMGUzMDRkNTA3MmQ0ODhmOGI3MTg4ZDZmYzNkOWExMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2I5NjlmNTg5MTI0MzRkZmZhZDk2NWJhNWZlMzFiY2I2LmJpbmRQb3B1cChwb3B1cF8zMDEwZTU4YWE5MDk0NGRlYjExY2Y0OThkZTg3ZDBkZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl80YzgzNDQxMDBiMDQ0OGUwODI1MzYwZTRhMTFmM2ZmNiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxMDQ5MjgwNzkyNjI2LC03NC4wMDc1NDYxMTY3NTE1M10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmRhNTU2OTA1MmUyNDMwZWJiZjYzNDI3NzMzMDZiYjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDE4OTI5ZWJhYzNiNGFkZDk5NjFhZmMwNTNkZTE0OGUgPSAkKCc8ZGl2IGlkPSJodG1sXzAxODkyOWViYWMzYjRhZGQ5OTYxYWZjMDUzZGUxNDhlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QaXNpbGxvIEl0YWxpYW4gQ2FmZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmRhNTU2OTA1MmUyNDMwZWJiZjYzNDI3NzMzMDZiYjAuc2V0Q29udGVudChodG1sXzAxODkyOWViYWMzYjRhZGQ5OTYxYWZjMDUzZGUxNDhlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNGM4MzQ0MTAwYjA0NDhlMDgyNTM2MGU0YTExZjNmZjYuYmluZFBvcHVwKHBvcHVwXzZkYTU1NjkwNTJlMjQzMGViYmY2MzQyNzczMzA2YmIwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2FmMmY2YzE1NjM3ZTQ2NDY4NGQ5MDQ5MjNhNTMwYzMzID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzA5NDczOTA5MjkzNzcsLTc0LjAwNjYzMDMzMjQzNTg1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84YzIwZDJmMzFhNmE0N2Q2OWVjYWI5MWNhY2U0YmE2ZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lZWExNGIyZTY3Yzg0MTQ4YmFiMzZjN2NkMTIwMzJhMCA9ICQoJzxkaXYgaWQ9Imh0bWxfZWVhMTRiMmU2N2M4NDE0OGJhYjM2YzdjZDEyMDMyYTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktvbmRpdG9yaTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGMyMGQyZjMxYTZhNDdkNjllY2FiOTFjYWNlNGJhNmYuc2V0Q29udGVudChodG1sX2VlYTE0YjJlNjdjODQxNDhiYWIzNmM3Y2QxMjAzMmEwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYWYyZjZjMTU2MzdlNDY0Njg0ZDkwNDkyM2E1MzBjMzMuYmluZFBvcHVwKHBvcHVwXzhjMjBkMmYzMWE2YTQ3ZDY5ZWNhYjkxY2FjZTRiYTZmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2RkMWIyN2MxMjVmYTQzY2M5MjIxN2NiNDA2MGE5YTY1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEyMjAzODgsLTc0LjAwODA1MTkyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YTlhODg3YjFhNDk0MTk0OGY5MjA4ZTFhNDg0Yzk2ZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMTFkNDY0OGZkNGM0Yjg4YTczZjk5MWU5NzI3YWRiMCA9ICQoJzxkaXYgaWQ9Imh0bWxfYzExZDQ2NDhmZDRjNGI4OGE3M2Y5OTFlOTcyN2FkYjAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0YXJidWNrczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmE5YTg4N2IxYTQ5NDE5NDhmOTIwOGUxYTQ4NGM5NmQuc2V0Q29udGVudChodG1sX2MxMWQ0NjQ4ZmQ0YzRiODhhNzNmOTkxZTk3MjdhZGIwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZGQxYjI3YzEyNWZhNDNjYzkyMjE3Y2I0MDYwYTlhNjUuYmluZFBvcHVwKHBvcHVwXzZhOWE4ODdiMWE0OTQxOTQ4ZjkyMDhlMWE0ODRjOTZkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzQxOWVlOWQwYTczZDRhYjM5ZWNiMDI1YzU0ODAzMzRiID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzE1Mzc5MDg5MTE0MDgsLTc0LjAwNzQ3NTg1NzU2NTk4XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yZTVjYWM5NzhlZjA0YzJhYmI3YmE0NDQwNTM4ZTcyNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yYTc5OGRjOGYxZDc0YzhkOGM1NWU4YzE0MGE2NDlkYiA9ICQoJzxkaXYgaWQ9Imh0bWxfMmE3OThkYzhmMWQ3NGM4ZDhjNTVlOGMxNDBhNjQ5ZGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bmdyeSBHaG9zdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmU1Y2FjOTc4ZWYwNGMyYWJiN2JhNDQ0MDUzOGU3MjQuc2V0Q29udGVudChodG1sXzJhNzk4ZGM4ZjFkNzRjOGQ4YzU1ZThjMTQwYTY0OWRiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNDE5ZWU5ZDBhNzNkNGFiMzllY2IwMjVjNTQ4MDMzNGIuYmluZFBvcHVwKHBvcHVwXzJlNWNhYzk3OGVmMDRjMmFiYjdiYTQ0NDA1MzhlNzI0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzUxNjJlYjIzYjcyZjRlMGE4YWJhNjZiMTc2MTExMmRlID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzE1MTc2OTM5NjYzMTUsLTc0LjAxMDIyNzQ3Nzc4Mjg1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYjZhM2VkM2FjMmI0YjZjODAxNzIxNTEzMWM3YzI0NCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZTIwMDMzMDAyMTY0NDM3OWIyN2IyNTYxOGRkYmI4ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNWUyMDAzMzAwMjE2NDQzNzliMjdiMjU2MThkZGJiOGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk11bGJlcnJ5ICZhbXA7IFZpbmU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JiNmEzZWQzYWMyYjRiNmM4MDE3MjE1MTMxYzdjMjQ0LnNldENvbnRlbnQoaHRtbF81ZTIwMDMzMDAyMTY0NDM3OWIyN2IyNTYxOGRkYmI4ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzUxNjJlYjIzYjcyZjRlMGE4YWJhNjZiMTc2MTExMmRlLmJpbmRQb3B1cChwb3B1cF9iYjZhM2VkM2FjMmI0YjZjODAxNzIxNTEzMWM3YzI0NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9hMDFjZmUwOTU3OWE0NDA5YjM0MWQyMDM4ZDgxNGM4ZSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcwODc4NzQ3NDk2NDAxLC03NC4wMDcwNjM0NTYwMjNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ3ZjUyOGEyZmNkYjQ5N2RiZGYzOWEwMTJhMWNiZjYzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YyMGU5YmE2ZTQyMTRmOGE5MTI4NjkzMGRkMTUwMThjID0gJCgnPGRpdiBpZD0iaHRtbF9mMjBlOWJhNmU0MjE0ZjhhOTEyODY5MzBkZDE1MDE4YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Vm95YWdlciBFc3ByZXNzbzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDdmNTI4YTJmY2RiNDk3ZGJkZjM5YTAxMmExY2JmNjMuc2V0Q29udGVudChodG1sX2YyMGU5YmE2ZTQyMTRmOGE5MTI4NjkzMGRkMTUwMThjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYTAxY2ZlMDk1NzlhNDQwOWIzNDFkMjAzOGQ4MTRjOGUuYmluZFBvcHVwKHBvcHVwXzQ3ZjUyOGEyZmNkYjQ5N2RiZGYzOWEwMTJhMWNiZjYzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2FiNjEwYWJkYTIwZDQyN2NiMGI2ZjcwMmFhNzE5ZDk4ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEwNTk3OTA3NjE2NDc0LC03NC4wMDkxNjMzNzk2NjkxOV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjVhZjc4NzFjOGZkNDYxMzgzMzU0NzMzZTJhZGM3ZDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWY4NWNiMWYxNTU0NDM0NmE3YzgyNDc5MTFjMTA0N2UgPSAkKCc8ZGl2IGlkPSJodG1sXzVmODVjYjFmMTU1NDQzNDZhN2M4MjQ3OTExYzEwNDdlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5JcnZpbmcgRmFybSBDb2ZmZWUgUm9hc3RlcnM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI1YWY3ODcxYzhmZDQ2MTM4MzM1NDczM2UyYWRjN2Q3LnNldENvbnRlbnQoaHRtbF81Zjg1Y2IxZjE1NTQ0MzQ2YTdjODI0NzkxMWMxMDQ3ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2FiNjEwYWJkYTIwZDQyN2NiMGI2ZjcwMmFhNzE5ZDk4LmJpbmRQb3B1cChwb3B1cF8yNWFmNzg3MWM4ZmQ0NjEzODMzNTQ3MzNlMmFkYzdkNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl84MTYxODhkZGE5YzU0OGMyODc5MDQ4Y2EwNDU0NzVlOSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxMzMyOTIsLTc0LjAxMDE1ODNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NmZWI5OGJmZmNhMzRiZjFhNjMwMTllOTVmZjgwZDc0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY4ODc1MzdjMWE4NzQyYzU5NWY1MGM2MzBmZjZiY2I3ID0gJCgnPGRpdiBpZD0iaHRtbF82ODg3NTM3YzFhODc0MmM1OTVmNTBjNjMwZmY2YmNiNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QXJvbWEgRXNwcmVzc28gQmFyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jZmViOThiZmZjYTM0YmYxYTYzMDE5ZTk1ZmY4MGQ3NC5zZXRDb250ZW50KGh0bWxfNjg4NzUzN2MxYTg3NDJjNTk1ZjUwYzYzMGZmNmJjYjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl84MTYxODhkZGE5YzU0OGMyODc5MDQ4Y2EwNDU0NzVlOS5iaW5kUG9wdXAocG9wdXBfY2ZlYjk4YmZmY2EzNGJmMWE2MzAxOWU5NWZmODBkNzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMjUzMGY5MDA1Njg0NDg4Njg2NGViYjZkNDQzMDBlN2YgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MDk5OTQzMjc3MTQ5NSwtNzQuMDA5MTE3ODYwODE3NF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjE5MWY2M2MwYzNjNGQyMzhjNmY4NjM3OWI3MTNlZTYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjFhZGY5YzBmMmNiNGY0YThlYTI1NDFmNzFkNjdmOWEgPSAkKCc8ZGl2IGlkPSJodG1sX2YxYWRmOWMwZjJjYjRmNGE4ZWEyNTQxZjcxZDY3ZjlhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYXNhIFRvc2NhbmE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YxOTFmNjNjMGMzYzRkMjM4YzZmODYzNzliNzEzZWU2LnNldENvbnRlbnQoaHRtbF9mMWFkZjljMGYyY2I0ZjRhOGVhMjU0MWY3MWQ2N2Y5YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzI1MzBmOTAwNTY4NDQ4ODY4NjRlYmI2ZDQ0MzAwZTdmLmJpbmRQb3B1cChwb3B1cF9mMTkxZjYzYzBjM2M0ZDIzOGM2Zjg2Mzc5YjcxM2VlNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl83YzgzMmNiZjNjNDc0MDc0OGFiYjA0MmJiMGUxZWVjMyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcwOTQ3NjQ1NDEzOTI4LC03NC4wMDg1NDU3MzE3NTkwM10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGQyNDQxZTAyNjNhNDNjNDhjYjhkNGMzOTllNmQxMTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWFhMmFjYzNlY2JiNGY3MmE2NmQ2NmIwYzU3NmMwY2MgPSAkKCc8ZGl2IGlkPSJodG1sX2VhYTJhY2MzZWNiYjRmNzJhNjZkNjZiMGM1NzZjMGNjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Qcm9vZiBDb2ZmZWUgUm9hc3RlcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOGQyNDQxZTAyNjNhNDNjNDhjYjhkNGMzOTllNmQxMTkuc2V0Q29udGVudChodG1sX2VhYTJhY2MzZWNiYjRmNzJhNjZkNjZiMGM1NzZjMGNjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfN2M4MzJjYmYzYzQ3NDA3NDhhYmIwNDJiYjBlMWVlYzMuYmluZFBvcHVwKHBvcHVwXzhkMjQ0MWUwMjYzYTQzYzQ4Y2I4ZDRjMzk5ZTZkMTE5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2RiMjA4ZjU0YTI5MjQ0MDg4NTE1MjZlOTdkYzA4MjUyID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEyNjQ5NzI1OTAyODYsLTc0LjAwODA3NTQ5MjEwODQzXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mZjE4Zjk0NGEzN2Q0NjM1YWJiNjFhYThkMjI5ZTFlNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MjMyZTQyZDA5NWY0YjViOGY0MjQyNDg5ZGI0NjA3MCA9ICQoJzxkaXYgaWQ9Imh0bWxfNjIzMmU0MmQwOTVmNGI1YjhmNDI0MjQ4OWRiNDYwNzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZpdmUgJmFtcDsgRGltZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmYxOGY5NDRhMzdkNDYzNWFiYjYxYWE4ZDIyOWUxZTYuc2V0Q29udGVudChodG1sXzYyMzJlNDJkMDk1ZjRiNWI4ZjQyNDI0ODlkYjQ2MDcwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZGIyMDhmNTRhMjkyNDQwODg1MTUyNmU5N2RjMDgyNTIuYmluZFBvcHVwKHBvcHVwX2ZmMThmOTQ0YTM3ZDQ2MzVhYmI2MWFhOGQyMjllMWU2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzJlYTNhYWI4NmI3MzQxODc4MTMxYWMxOGU2MmNmODIzID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzE2OTA4ODg5NTA1MjQsLTc0LjAwMzkzNDQ3ODg2NTI5XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMjJkNjMzNGI4Mzc0OTI1YTI4YmQ0N2JhNzdhNTViOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kZTU0NzNiODJkMDQ0MDM5OTBhMWRhZjRjZjQxYWMzOSA9ICQoJzxkaXYgaWQ9Imh0bWxfZGU1NDczYjgyZDA0NDAzOTkwYTFkYWY0Y2Y0MWFjMzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoaW5rIENvZmZlZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDIyZDYzMzRiODM3NDkyNWEyOGJkNDdiYTc3YTU1Yjguc2V0Q29udGVudChodG1sX2RlNTQ3M2I4MmQwNDQwMzk5MGExZGFmNGNmNDFhYzM5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMmVhM2FhYjg2YjczNDE4NzgxMzFhYzE4ZTYyY2Y4MjMuYmluZFBvcHVwKHBvcHVwXzAyMmQ2MzM0YjgzNzQ5MjVhMjhiZDQ3YmE3N2E1NWI4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzYwNjhhMTBhZWM5MTQ5NzM4Y2M3YzEyNTU1NTMwNzNmID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzE0ODE3LC03NC4wMDgyNDJdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M0N2NjZWNkYmIzZjQ3MzU4YWJjNzg5NDUxYjE4OWM0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNhMjZkZDAzNjdiZjQzODVhNzcxYmU5MTIzOTMwNDBlID0gJCgnPGRpdiBpZD0iaHRtbF8zYTI2ZGQwMzY3YmY0Mzg1YTc3MWJlOTEyMzkzMDQwZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3RhcmJ1Y2tzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jNDdjY2VjZGJiM2Y0NzM1OGFiYzc4OTQ1MWIxODljNC5zZXRDb250ZW50KGh0bWxfM2EyNmRkMDM2N2JmNDM4NWE3NzFiZTkxMjM5MzA0MGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl82MDY4YTEwYWVjOTE0OTczOGNjN2MxMjU1NTUzMDczZi5iaW5kUG9wdXAocG9wdXBfYzQ3Y2NlY2RiYjNmNDczNThhYmM3ODk0NTFiMTg5YzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZGYwZjc2NzE0MzA2NDM1Nzk2Y2I4Y2YxNTgwOTEzMjIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MTExNDE3MDkxOTI4MTYsLTc0LjAwNDc5NjEwMzUxODE1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83NzYyZThhZjJjZTA0NTFkOGEzYjAxM2Y5NDc4YzA5OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MDE1ZDU3YzBjZTM0Y2Q0YjQ1MmY3M2QxNmM5NjkwMSA9ICQoJzxkaXYgaWQ9Imh0bWxfODAxNWQ1N2MwY2UzNGNkNGI0NTJmNzNkMTZjOTY5MDEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0YXJidWNrczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzc2MmU4YWYyY2UwNDUxZDhhM2IwMTNmOTQ3OGMwOTguc2V0Q29udGVudChodG1sXzgwMTVkNTdjMGNlMzRjZDRiNDUyZjczZDE2Yzk2OTAxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZGYwZjc2NzE0MzA2NDM1Nzk2Y2I4Y2YxNTgwOTEzMjIuYmluZFBvcHVwKHBvcHVwXzc3NjJlOGFmMmNlMDQ1MWQ4YTNiMDEzZjk0NzhjMDk4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzMwZGIwNWNmZDUzOTQ3YTFhZGM3YmI5OGU0ODFhNmFiID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzExNTk3NTYsLTc0LjAwNjcyNjI2XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NDU4NzRhYzg1ZTE0MDRhODEzYzI4Y2EwZjgyOGYyYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jY2MwNWYxZDcyY2I0NTMzODEwNzliMjYyN2Q4ODc5NyA9ICQoJzxkaXYgaWQ9Imh0bWxfY2NjMDVmMWQ3MmNiNDUzMzgxMDc5YjI2MjdkODg3OTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0YXJidWNrczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTQ1ODc0YWM4NWUxNDA0YTgxM2MyOGNhMGY4MjhmMmMuc2V0Q29udGVudChodG1sX2NjYzA1ZjFkNzJjYjQ1MzM4MTA3OWIyNjI3ZDg4Nzk3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMzBkYjA1Y2ZkNTM5NDdhMWFkYzdiYjk4ZTQ4MWE2YWIuYmluZFBvcHVwKHBvcHVwXzk0NTg3NGFjODVlMTQwNGE4MTNjMjhjYTBmODI4ZjJjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2NiMDdlNGFmM2Y3NzQ0YjBiZjgzMDcyNzg0ZmQ2MzM2ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzE1MDE2MDUyNzIxNjEsLTc0LjAwOTI4NDA3OTA3NDg2XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MmFlYzMzNjViNTQ0ZWRmYjVlMTJiNzJjNmQ3ODdlNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MTQxOWE3OTg3YTk0OWMzYTJiNmU3NWUzOTA4NzAyMiA9ICQoJzxkaXYgaWQ9Imh0bWxfNTE0MTlhNzk4N2E5NDljM2EyYjZlNzVlMzkwODcwMjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxlIFBhaW4gUXVvdGlkaWVuPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82MmFlYzMzNjViNTQ0ZWRmYjVlMTJiNzJjNmQ3ODdlNC5zZXRDb250ZW50KGh0bWxfNTE0MTlhNzk4N2E5NDljM2EyYjZlNzVlMzkwODcwMjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9jYjA3ZTRhZjNmNzc0NGIwYmY4MzA3Mjc4NGZkNjMzNi5iaW5kUG9wdXAocG9wdXBfNjJhZWMzMzY1YjU0NGVkZmI1ZTEyYjcyYzZkNzg3ZTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZTQyZTBmNzg5OTZjNDIxMDk4NGIwMTBjNTYyYzg0NDQgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MDkxODcwODY1MzY3NjUsLTc0LjAwNTQ4MDE0ODY2NzI1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NjY1ZTFhNzBjNDk0MmVkODIxYTcxOGI4NDYwMzM2MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMGZmMTQ2OTc5YTU0NGJjOWJkMDlhYjQzZDM4NjM3OSA9ICQoJzxkaXYgaWQ9Imh0bWxfMTBmZjE0Njk3OWE1NDRiYzliZDA5YWI0M2QzODYzNzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlImYW1wO1IgQ29mZmVlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85NjY1ZTFhNzBjNDk0MmVkODIxYTcxOGI4NDYwMzM2Mi5zZXRDb250ZW50KGh0bWxfMTBmZjE0Njk3OWE1NDRiYzliZDA5YWI0M2QzODYzNzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9lNDJlMGY3ODk5NmM0MjEwOTg0YjAxMGM1NjJjODQ0NC5iaW5kUG9wdXAocG9wdXBfOTY2NWUxYTcwYzQ5NDJlZDgyMWE3MThiODQ2MDMzNjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZjc0MGQwYjY1NWRmNDU3MWFkZmNiZDdkZjU0Mzg3ZWQgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MTIxMjgxMjExMzU3MiwtNzQuMDEwODE4MzY0MzgwMDFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJhZDQ4OWRlYTA2ZjQ2YjJiYjg1YjRhMDUxZDY1Y2FmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhlZDllNDdjZjI0OTRkMWFhYjQ4NTgxMjUzMTE2YjgzID0gJCgnPGRpdiBpZD0iaHRtbF84ZWQ5ZTQ3Y2YyNDk0ZDFhYWI0ODU4MTI1MzExNmI4MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3RhcmJ1Y2tzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yYWQ0ODlkZWEwNmY0NmIyYmI4NWI0YTA1MWQ2NWNhZi5zZXRDb250ZW50KGh0bWxfOGVkOWU0N2NmMjQ5NGQxYWFiNDg1ODEyNTMxMTZiODMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9mNzQwZDBiNjU1ZGY0NTcxYWRmY2JkN2RmNTQzODdlZC5iaW5kUG9wdXAocG9wdXBfMmFkNDg5ZGVhMDZmNDZiMmJiODViNGEwNTFkNjVjYWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfNjA1YTIzMzkxZTY5NGE1NjhlMTUyYWI1NDVkNWJmZDcgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MTI3ODU2NzIyMDYzNjUsLTc0LjAwNTk0Mzc5ODgxMTQ0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMjI3MmRiNzgxOGU0MzM5OTJlMzU5YjliNmM4ZmQxOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zOTUzYWMyNmJjZDg0ZjhmYjM0MmZiNzA2NmVhMWUzZCA9ICQoJzxkaXYgaWQ9Imh0bWxfMzk1M2FjMjZiY2Q4NGY4ZmIzNDJmYjcwNjZlYTFlM2QiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1hcnkmIzM5O3MgQ29mZmVlIFNob3A8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UyMjcyZGI3ODE4ZTQzMzk5MmUzNTliOWI2YzhmZDE5LnNldENvbnRlbnQoaHRtbF8zOTUzYWMyNmJjZDg0ZjhmYjM0MmZiNzA2NmVhMWUzZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzYwNWEyMzM5MWU2OTRhNTY4ZTE1MmFiNTQ1ZDViZmQ3LmJpbmRQb3B1cChwb3B1cF9lMjI3MmRiNzgxOGU0MzM5OTJlMzU5YjliNmM4ZmQxOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9kZmYzZDM2NTViMjk0YjI2YTI0NzhjNzY2MDkxZWMxMCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxMDk2NzIyNDg2MTc3NiwtNzQuMDAwNzYzMjYzNTY3ODVdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJmMjY3ZjU1MWUyMTQ5MzdhOTM1MWU2OWM5M2E2Y2ZmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAxZmUxODNiNGI5ZjRjZmZiZmU4ZDg4YTE0ODUyYjk5ID0gJCgnPGRpdiBpZD0iaHRtbF8wMWZlMTgzYjRiOWY0Y2ZmYmZlOGQ4OGExNDg1MmI5OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3RhcmJ1Y2tzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yZjI2N2Y1NTFlMjE0OTM3YTkzNTFlNjljOTNhNmNmZi5zZXRDb250ZW50KGh0bWxfMDFmZTE4M2I0YjlmNGNmZmJmZThkODhhMTQ4NTJiOTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9kZmYzZDM2NTViMjk0YjI2YTI0NzhjNzY2MDkxZWMxMC5iaW5kUG9wdXAocG9wdXBfMmYyNjdmNTUxZTIxNDkzN2E5MzUxZTY5YzkzYTZjZmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYjAzMTVkZjYyYmUwNDMxZDg0OWRhMTQ5MDUxMDNlNWUgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MTQ0OTA1NDMyNjIzOSwtNzQuMDAzNTM2NDk4OTY1Nl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTA0ZmJhMDc2NmZlNGM2NWExOTJmZTg1NzM1OWE4ODAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGMzZmMzMjRmY2NmNGQ1MjgzMjc4NjE5MjhhYzM2NmUgPSAkKCc8ZGl2IGlkPSJodG1sXzRjM2ZjMzI0ZmNjZjRkNTI4MzI3ODYxOTI4YWMzNjZlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GSUtBIEVzcHJlc3NvIEJhcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTA0ZmJhMDc2NmZlNGM2NWExOTJmZTg1NzM1OWE4ODAuc2V0Q29udGVudChodG1sXzRjM2ZjMzI0ZmNjZjRkNTI4MzI3ODYxOTI4YWMzNjZlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYjAzMTVkZjYyYmUwNDMxZDg0OWRhMTQ5MDUxMDNlNWUuYmluZFBvcHVwKHBvcHVwX2UwNGZiYTA3NjZmZTRjNjVhMTkyZmU4NTczNTlhODgwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzZjYWY2OGQxOTcwYTRmZTA4NDM5ODMzMGY4NDk3OWNhID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEyNzg2NTExOTcwMzcsLTc0LjAwODc2NTg4NDcwNTUzXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNTgwN2ZmYWNmYTM0Nzk4YjNkNzdjMjBmNzNiNWRhYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMjZmZTFmODM0YzI0OWE4OTU5ZTY0YjY4YTViNGNhMyA9ICQoJzxkaXYgaWQ9Imh0bWxfMDI2ZmUxZjgzNGMyNDlhODk1OWU2NGI2OGE1YjRjYTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJpdHMgJmFtcDsgQml0ZXM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M1ODA3ZmZhY2ZhMzQ3OThiM2Q3N2MyMGY3M2I1ZGFjLnNldENvbnRlbnQoaHRtbF8wMjZmZTFmODM0YzI0OWE4OTU5ZTY0YjY4YTViNGNhMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzZjYWY2OGQxOTcwYTRmZTA4NDM5ODMzMGY4NDk3OWNhLmJpbmRQb3B1cChwb3B1cF9jNTgwN2ZmYWNmYTM0Nzk4YjNkNzdjMjBmNzNiNWRhYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9lMTJiM2ZkMDYxZDU0NGJjYTdhMjlhNzI1NzYzMmY2MiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxNDQ4NDkzMDEyMzAzNSwtNzQuMDA1ODgwNjc1NzQ5MjRdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M0NTYyY2ZiN2E3ZTQyOTQ5MTIxMDMzYzc0ZGI1MDI4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM3OGVhYWZmNDJhZDQ3M2I4ZGMwOGU0NWRmNzQ2NzkxID0gJCgnPGRpdiBpZD0iaHRtbF8zNzhlYWFmZjQyYWQ0NzNiOGRjMDhlNDVkZjc0Njc5MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SmVubnkmIzM5O3MgQ2FmZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzQ1NjJjZmI3YTdlNDI5NDkxMjEwMzNjNzRkYjUwMjguc2V0Q29udGVudChodG1sXzM3OGVhYWZmNDJhZDQ3M2I4ZGMwOGU0NWRmNzQ2NzkxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZTEyYjNmZDA2MWQ1NDRiY2E3YTI5YTcyNTc2MzJmNjIuYmluZFBvcHVwKHBvcHVwX2M0NTYyY2ZiN2E3ZTQyOTQ5MTIxMDMzYzc0ZGI1MDI4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzkzZTU4MzhkYjk4ZjRjZmNhYmFkYTBmMWQxYmY5NDJjID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEyMjUwMTA4MTI4NywtNzQuMDA1NjM5NjYwMjI5MTldLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUxM2VkYmJkMTIxYTRlYjc5NDU1MDAzZThkMjU4YjgyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY2Mzg4OGU2OWY4OTQ4NDY5YTFjYzBjM2ExMDg1ODRlID0gJCgnPGRpdiBpZD0iaHRtbF82NjM4ODhlNjlmODk0ODQ2OWExY2MwYzNhMTA4NTg0ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGFudGUgQ29mZmVlIFNob3A8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUxM2VkYmJkMTIxYTRlYjc5NDU1MDAzZThkMjU4YjgyLnNldENvbnRlbnQoaHRtbF82NjM4ODhlNjlmODk0ODQ2OWExY2MwYzNhMTA4NTg0ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzkzZTU4MzhkYjk4ZjRjZmNhYmFkYTBmMWQxYmY5NDJjLmJpbmRQb3B1cChwb3B1cF81MTNlZGJiZDEyMWE0ZWI3OTQ1NTAwM2U4ZDI1OGI4Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8zZDRhZDkyMTk4YTQ0MjA4YjZjZTVhN2YwNzBjOGEyNCA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxMjk5NywtNzQuMDA3MjU0XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMzBlZjI2Yjc1M2M0N2UyYjdmZTVmNDY3OTY3ZDEwOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mYTFiMTZlNDM2NDg0MGE1OWY3MGI5MTliMzk0OThjNSA9ICQoJzxkaXYgaWQ9Imh0bWxfZmExYjE2ZTQzNjQ4NDBhNTlmNzBiOTE5YjM5NDk4YzUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk4uWS5DLiBHaWZ0cyAmYW1wOyBTdHVmZjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDMwZWYyNmI3NTNjNDdlMmI3ZmU1ZjQ2Nzk2N2QxMDkuc2V0Q29udGVudChodG1sX2ZhMWIxNmU0MzY0ODQwYTU5ZjcwYjkxOWIzOTQ5OGM1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfM2Q0YWQ5MjE5OGE0NDIwOGI2Y2U1YTdmMDcwYzhhMjQuYmluZFBvcHVwKHBvcHVwXzAzMGVmMjZiNzUzYzQ3ZTJiN2ZlNWY0Njc5NjdkMTA5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzkyZDUwNzJhZWI3YjQ1N2I5YzU0OWIzMjRjYjVjM2RiID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEyNzg1NjcyMjA2MzY1LC03NC4wMDU5NDM3OTg4MTE0NF0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjJjNTM0YTc3MzJlNDI2NmEwY2FhNzUyYjY5M2JkZjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjNmMjhjMTI4YzZmNGFjNmJmMDI5NjRiNWMwYWNkMzMgPSAkKCc8ZGl2IGlkPSJodG1sX2YzZjI4YzEyOGM2ZjRhYzZiZjAyOTY0YjVjMGFjZDMzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgY2F0IGNhZmUgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjJjNTM0YTc3MzJlNDI2NmEwY2FhNzUyYjY5M2JkZjguc2V0Q29udGVudChodG1sX2YzZjI4YzEyOGM2ZjRhYzZiZjAyOTY0YjVjMGFjZDMzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOTJkNTA3MmFlYjdiNDU3YjljNTQ5YjMyNGNiNWMzZGIuYmluZFBvcHVwKHBvcHVwX2IyYzUzNGE3NzMyZTQyNjZhMGNhYTc1MmI2OTNiZGY4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2JlM2RlYTZiYThiMDQwZmZiZDMwNzhiNjZkMmYzYzg0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEwMjI3ODY3ODIwMDEsLTc0LjAwNTMwNjgyODc3MzhdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RiNjhkYTAxYjUyMTQ5OGM5MTQ4NTk3MWJlZjNjYzg3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNkNmJhNjdhOWNkYjRjM2I5ZjZjMDQyNmNhMTcxNmUzID0gJCgnPGRpdiBpZD0iaHRtbF8zZDZiYTY3YTljZGI0YzNiOWY2YzA0MjZjYTE3MTZlMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXVyb3BhbiBDYWZlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYjY4ZGEwMWI1MjE0OThjOTE0ODU5NzFiZWYzY2M4Ny5zZXRDb250ZW50KGh0bWxfM2Q2YmE2N2E5Y2RiNGMzYjlmNmMwNDI2Y2ExNzE2ZTMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9iZTNkZWE2YmE4YjA0MGZmYmQzMDc4YjY2ZDJmM2M4NC5iaW5kUG9wdXAocG9wdXBfZGI2OGRhMDFiNTIxNDk4YzkxNDg1OTcxYmVmM2NjODcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfN2M1YjQ2NTU0MzBkNDA5NDliZWUzNDQ5NTZjMzg1NjkgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MTA3MzQ0MjQzODEzMzYsLTc0LjAwMzg0OTY5MTEyMjI4XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ZGViYTM4ZTY4MmE0ZjM1ODI4NTlhODM2Y2UxNTY3MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81OTA1ZmNjOTk2ZDY0ZTk5YjRkMDU4OWU1OGJkNGNmYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNTkwNWZjYzk5NmQ2NGU5OWI0ZDA1ODllNThiZDRjZmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPktvenkgS29ybmVyIEV4cHJlc3M8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRkZWJhMzhlNjgyYTRmMzU4Mjg1OWE4MzZjZTE1NjcyLnNldENvbnRlbnQoaHRtbF81OTA1ZmNjOTk2ZDY0ZTk5YjRkMDU4OWU1OGJkNGNmYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzdjNWI0NjU1NDMwZDQwOTQ5YmVlMzQ0OTU2YzM4NTY5LmJpbmRQb3B1cChwb3B1cF80ZGViYTM4ZTY4MmE0ZjM1ODI4NTlhODM2Y2UxNTY3Mik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8zODZmNWM3N2U0NGE0NzI0YmI4ZTNiN2M4ZDk3ZmI2NiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxMDg5OSwtNzQuMDAzMjcyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zYjQ2MjU1ODY4Njg0NzMzYTI2YzQ4MmY0YmM5M2QyZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZDA2M2JjZmRiMmQ0Nzc5OTA4Njc5Yjk5MjUwZWNjYSA9ICQoJzxkaXYgaWQ9Imh0bWxfYWQwNjNiY2ZkYjJkNDc3OTkwODY3OWI5OTI1MGVjY2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVsLVNwYWNlIEJLIEJyaWRnZSBBcmNoZXM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNiNDYyNTU4Njg2ODQ3MzNhMjZjNDgyZjRiYzkzZDJkLnNldENvbnRlbnQoaHRtbF9hZDA2M2JjZmRiMmQ0Nzc5OTA4Njc5Yjk5MjUwZWNjYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzM4NmY1Yzc3ZTQ0YTQ3MjRiYjhlM2I3YzhkOTdmYjY2LmJpbmRQb3B1cChwb3B1cF8zYjQ2MjU1ODY4Njg0NzMzYTI2YzQ4MmY0YmM5M2QyZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl80N2Q5NmI4NDg5NjM0YjExYjBkZDlhZDllNTMyZTg5ZiA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxNDM4OSwtNzQuMDAyNzkxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl9kN2VlYzhmMjliMWQ0OGRhYmU0YzA4ZTJhMDg3YjQxYik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lOWVhNjExYTI1MGY0ZWJmYmM4NDljNzgwMmEyNDEyNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zN2ViNDU0NzBlNWU0Y2M4OGUwZTRhNDUzMDU4NWNjOSA9ICQoJzxkaXYgaWQ9Imh0bWxfMzdlYjQ1NDcwZTVlNGNjODhlMGU0YTQ1MzA1ODVjYzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNvZmZlZSBDYXJ0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lOWVhNjExYTI1MGY0ZWJmYmM4NDljNzgwMmEyNDEyNS5zZXRDb250ZW50KGh0bWxfMzdlYjQ1NDcwZTVlNGNjODhlMGU0YTQ1MzA1ODVjYzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl80N2Q5NmI4NDg5NjM0YjExYjBkZDlhZDllNTMyZTg5Zi5iaW5kUG9wdXAocG9wdXBfZTllYTYxMWEyNTBmNGViZmJjODQ5Yzc4MDJhMjQxMjUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYTMzNDNjNzQzMjEzNDBjOWI2MGQ0ZjYwNDRmOWFhOTYgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MDk4MTksLTc0LjAwNzIzOV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2YwZDdlM2UyNmUxNGQxYjg2ZGM1YThiNjZkMGYxY2IgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjBjNjY0ZGYzOTU5NGZlMzk4ZjQxYjZkMWYzNzcwMDcgPSAkKCc8ZGl2IGlkPSJodG1sXzYwYzY2NGRmMzk1OTRmZTM5OGY0MWI2ZDFmMzc3MDA3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYWZlIE1hcnRpbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2YwZDdlM2UyNmUxNGQxYjg2ZGM1YThiNjZkMGYxY2Iuc2V0Q29udGVudChodG1sXzYwYzY2NGRmMzk1OTRmZTM5OGY0MWI2ZDFmMzc3MDA3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYTMzNDNjNzQzMjEzNDBjOWI2MGQ0ZjYwNDRmOWFhOTYuYmluZFBvcHVwKHBvcHVwXzNmMGQ3ZTNlMjZlMTRkMWI4NmRjNWE4YjY2ZDBmMWNiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2FlOGNiMDJhNmM4NTQyM2Y4NjA1NzhkMmM4NDA2YjIwID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzA5OTI1LC03NC4wMDg3NjFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU1OGI3Yjc1ZDk3YTQ1MDFiYTMyZGQwYTAwMzFkMTBjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y1Mzk2MjkzZGFmYzRhNmI5MjM5ZTI2ZWQ0YWQ1NzlkID0gJCgnPGRpdiBpZD0iaHRtbF9mNTM5NjI5M2RhZmM0YTZiOTIzOWUyNmVkNGFkNTc5ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWxpeGVyIEJhcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTU4YjdiNzVkOTdhNDUwMWJhMzJkZDBhMDAzMWQxMGMuc2V0Q29udGVudChodG1sX2Y1Mzk2MjkzZGFmYzRhNmI5MjM5ZTI2ZWQ0YWQ1NzlkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfYWU4Y2IwMmE2Yzg1NDIzZjg2MDU3OGQyYzg0MDZiMjAuYmluZFBvcHVwKHBvcHVwXzU1OGI3Yjc1ZDk3YTQ1MDFiYTMyZGQwYTAwMzFkMTBjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzdjNjA5YTkzMmY4MDRhN2Y4OWM1YjI2ZjQ4NWQ3MzU1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEwNTk0LC03NC4wMDk5Ml0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTU5NGQ3NjYzMDU3NDdhZGI0NTZlM2M2ZWM0OGFlMTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGVkZTU3MjEzNWQwNDBkOTkzMmVjZmYwYjE0YTllMzcgPSAkKCc8ZGl2IGlkPSJodG1sX2RlZGU1NzIxMzVkMDQwZDk5MzJlY2ZmMGIxNGE5ZTM3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTU5NGQ3NjYzMDU3NDdhZGI0NTZlM2M2ZWM0OGFlMTUuc2V0Q29udGVudChodG1sX2RlZGU1NzIxMzVkMDQwZDk5MzJlY2ZmMGIxNGE5ZTM3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfN2M2MDlhOTMyZjgwNGE3Zjg5YzViMjZmNDg1ZDczNTUuYmluZFBvcHVwKHBvcHVwXzk1OTRkNzY2MzA1NzQ3YWRiNDU2ZTNjNmVjNDhhZTE1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzk4OGIxMDM5MDI1NjRhOWQ4NmU5ZDNhZWZiOWRmMDEzID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEwNTEyLC03NC4wMDk5MDRdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyX2Q3ZWVjOGYyOWIxZDQ4ZGFiZTRjMDhlMmEwODdiNDFiKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFjOTE5OGMzYzU2MTRkYzg5ZmNjZmQ5MGViMzIzOWM2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M2YWNmYmU4ZDE5MDQ3OTFiYTU2MGQ1MTk3MzRhZmU3ID0gJCgnPGRpdiBpZD0iaHRtbF9jNmFjZmJlOGQxOTA0NzkxYmE1NjBkNTE5NzM0YWZlNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzFjOTE5OGMzYzU2MTRkYzg5ZmNjZmQ5MGViMzIzOWM2LnNldENvbnRlbnQoaHRtbF9jNmFjZmJlOGQxOTA0NzkxYmE1NjBkNTE5NzM0YWZlNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzk4OGIxMDM5MDI1NjRhOWQ4NmU5ZDNhZWZiOWRmMDEzLmJpbmRQb3B1cChwb3B1cF8xYzkxOThjM2M1NjE0ZGM4OWZjY2ZkOTBlYjMyMzljNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl9hMjUwMjQyYTFiNjk0NzZkOGE5Y2U3OWM5MDQ5NTZmMSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxMDQ3MzEyMjg0NDk4LC03NC4wMDk4NjA3NTQwMTMwNl0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2VjZDZkMTlkYmM2NGUwODk5M2Y1MTk3NDMwZjc1NDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDI1MmQwOThhM2Y2NDI5M2JiNjI5ODc3ZDFkYzkwN2MgPSAkKCc8ZGl2IGlkPSJodG1sXzQyNTJkMDk4YTNmNjQyOTNiYjYyOTg3N2QxZGM5MDdjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UMiBUZWE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdlY2Q2ZDE5ZGJjNjRlMDg5OTNmNTE5NzQzMGY3NTQ0LnNldENvbnRlbnQoaHRtbF80MjUyZDA5OGEzZjY0MjkzYmI2Mjk4NzdkMWRjOTA3Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2EyNTAyNDJhMWI2OTQ3NmQ4YTljZTc5YzkwNDk1NmYxLmJpbmRQb3B1cChwb3B1cF83ZWNkNmQxOWRiYzY0ZTA4OTkzZjUxOTc0MzBmNzU0NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8yZGVlYzk0ZjZkOWE0MGE5YWY5MzhkOWUzNmE3ZTUxYyA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjcxMzY4NTYzNTA1OTMzLC03NC4wMTE1OTExNjM3Mzc3M10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjFhYWE2MTEzYTkwNGY3ODk4MGUyOWZiZjJkNWNhODEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMmM1ZmE1ZmZhMjdlNDNhOGFkMjc4MTg5ZDc2MWQzNDIgPSAkKCc8ZGl2IGlkPSJodG1sXzJjNWZhNWZmYTI3ZTQzYThhZDI3ODE4OWQ3NjFkMzQyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXJjbGF5IFN0cmVldCBDYWZlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mMWFhYTYxMTNhOTA0Zjc4OTgwZTI5ZmJmMmQ1Y2E4MS5zZXRDb250ZW50KGh0bWxfMmM1ZmE1ZmZhMjdlNDNhOGFkMjc4MTg5ZDc2MWQzNDIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8yZGVlYzk0ZjZkOWE0MGE5YWY5MzhkOWUzNmE3ZTUxYy5iaW5kUG9wdXAocG9wdXBfZjFhYWE2MTEzYTkwNGY3ODk4MGUyOWZiZjJkNWNhODEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfYzhjNTYyMDJmMGM1NGQ4YWFjODUwNDYyMjBmYTI1YTUgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MTcwODEsLTc0LjAwNjk5N10sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfZDdlZWM4ZjI5YjFkNDhkYWJlNGMwOGUyYTA4N2I0MWIpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjdjMGM4NzJmNmFkNDMwM2FkNWM3MmFlODQzMTMzMDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfY2VhNDJjOTFmYzdiNDRjMDllYTYzMmMyNzY2NzEwYmQgPSAkKCc8ZGl2IGlkPSJodG1sX2NlYTQyYzkxZmM3YjQ0YzA5ZWE2MzJjMjc2NjcxMGJkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HYXAgSW5jLiBIUSBDYWZlICgxM3RoIEZscik8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I3YzBjODcyZjZhZDQzMDNhZDVjNzJhZTg0MzEzMzA2LnNldENvbnRlbnQoaHRtbF9jZWE0MmM5MWZjN2I0NGMwOWVhNjMyYzI3NjY3MTBiZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyX2M4YzU2MjAyZjBjNTRkOGFhYzg1MDQ2MjIwZmEyNWE1LmJpbmRQb3B1cChwb3B1cF9iN2MwYzg3MmY2YWQ0MzAzYWQ1YzcyYWU4NDMxMzMwNik7CgogICAgICAgICAgICAKICAgICAgICAKPC9zY3JpcHQ+ onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>",
                        "text/plain": "<folium.folium.Map at 0x7fa58a65fcf8>"
                    },
                    "execution_count": 90,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Map of New York\nny_map = folium.Map(location=[40.7128, -74.0060], tiles='Stamen Toner', zoom_start=13)\n\n#Instantiate a mark cluster object for the stores in the dataframe\nny_shops = folium.plugins.MarkerCluster().add_to(ny_map)\n\n#Loop through the dataframe and add each data point to the mark cluster\nfor lat, lng, label, in zip(ny_coffee_shops.lat, ny_coffee_shops.lng, ny_coffee_shops.name):\n    folium.Marker(\n        location=[lat, lng],\n        icon=None,\n        popup=folium.Popup(label, parse_html=True)\n    ).add_to(ny_shops)\n\n#Display Map\nny_map"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Get all of the Starbucks locations in Downtown New York"
        },
        {
            "cell_type": "code",
            "execution_count": 91,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>id</th>\n      <th>lat</th>\n      <th>lng</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>5</th>\n      <td>Starbucks</td>\n      <td>4ad76597f964a5200e0a21e3</td>\n      <td>40.712204</td>\n      <td>-74.008052</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>Starbucks</td>\n      <td>5bb75d4f9fca56002c7e218b</td>\n      <td>40.714817</td>\n      <td>-74.008242</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>Starbucks</td>\n      <td>5050b1ade4b05606213f5466</td>\n      <td>40.711142</td>\n      <td>-74.004796</td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>Starbucks</td>\n      <td>4a84eb0af964a520e1fd1fe3</td>\n      <td>40.711598</td>\n      <td>-74.006726</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>Starbucks</td>\n      <td>59831458e679bc7ea5d6f899</td>\n      <td>40.712128</td>\n      <td>-74.010818</td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>Starbucks</td>\n      <td>59b94fdb2ebb346f98fabd4a</td>\n      <td>40.710967</td>\n      <td>-74.000763</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "         name                        id        lat        lng\n5   Starbucks  4ad76597f964a5200e0a21e3  40.712204 -74.008052\n15  Starbucks  5bb75d4f9fca56002c7e218b  40.714817 -74.008242\n16  Starbucks  5050b1ade4b05606213f5466  40.711142 -74.004796\n17  Starbucks  4a84eb0af964a520e1fd1fe3  40.711598 -74.006726\n20  Starbucks  59831458e679bc7ea5d6f899  40.712128 -74.010818\n22  Starbucks  59b94fdb2ebb346f98fabd4a  40.710967 -74.000763"
                    },
                    "execution_count": 91,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "ny_coffee_shops.loc[ny_coffee_shops['name'] == 'Starbucks']"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Get the engagement information & ratings of each Starbucks location using the Foursqaure API"
        },
        {
            "cell_type": "code",
            "execution_count": 92,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[5] using Foursquare API\n\n#Define the URl\nstarbucks5_url = 'https://api.foursquare.com/v2/venues/4ad76597f964a5200e0a21e3?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_5_results = requests.get(starbucks5_url).json()\n\n#Create Dataframe\nstarbucks_5 = starbucks_5_results['response']\nstarbucks_5_details = json_normalize(starbucks_5) # flatten JSON\n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_5_details =starbucks_5_details.loc[:, filtered_columns]\n\n#Clean Columns\nstarbucks_5_details.columns = [col.split(\".\")[-1] for col in starbucks_5_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 93,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[15] using Foursquare API\n\n#Define the URl\nstarbucks15_url = 'https://api.foursquare.com/v2/venues/5bb75d4f9fca56002c7e218b?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_15_results = requests.get(starbucks15_url).json()\n\n#Create Dataframe\nstarbucks_15 = starbucks_15_results['response']\nstarbucks_15_details = json_normalize(starbucks_15) # flatten JSON\n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_15_details =starbucks_15_details.loc[:, filtered_columns]\n\n#Clean Columns\nstarbucks_15_details.columns = [col.split(\".\")[-1] for col in starbucks_15_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 94,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[16] using Foursquare API\n\n#Define the URl\nstarbucks16_url = 'https://api.foursquare.com/v2/venues/5050b1ade4b05606213f5466?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_16_results = requests.get(starbucks16_url).json()\n\n#Create Dataframe\nstarbucks_16 = starbucks_16_results['response']\nstarbucks_16_details = json_normalize(starbucks_16) # flatten JSON\n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_16_details =starbucks_16_details.loc[:, filtered_columns]\n\n#Clean Columns\nstarbucks_16_details.columns = [col.split(\".\")[-1] for col in starbucks_16_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 95,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[17] using Foursquare API\n\n#Define the URl\nstarbucks17_url = 'https://api.foursquare.com/v2/venues/4a84eb0af964a520e1fd1fe3?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_17_results = requests.get(starbucks17_url).json()\n\n#Create Dataframe\nstarbucks_17 = starbucks_17_results['response']\nstarbucks_17_details = json_normalize(starbucks_17) # flatten JSON\n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_17_details =starbucks_17_details.loc[:, filtered_columns]\n\n#Clean Columns\nstarbucks_17_details.columns = [col.split(\".\")[-1] for col in starbucks_17_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 96,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[20] using Foursquare API\n\n#Define the URl\nstarbucks20_url = 'https://api.foursquare.com/v2/venues/59831458e679bc7ea5d6f899?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_20_results = requests.get(starbucks20_url).json()\n\n#Create Dataframe\nstarbucks_20 = starbucks_20_results['response']\nstarbucks_20_details = json_normalize(starbucks_20) # flatten JSON\n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_20_details =starbucks_20_details.loc[:, filtered_columns]\n\n#Clean Columns\nstarbucks_20_details.columns = [col.split(\".\")[-1] for col in starbucks_20_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 97,
            "metadata": {},
            "outputs": [],
            "source": "#Get Details on Starbucks: Index[22] using Foursquare API\n\n#Define the URl\nstarbucks22_url = 'https://api.foursquare.com/v2/venues/59b94fdb2ebb346f98fabd4a?&client_id={}&client_secret={}&v={}'.format(client_id, client_secret, version)\n\n#Send the GET Request\nstarbucks_22_results = requests.get(starbucks22_url).json()\n\n#Create Dataframe\nstarbucks_22 = starbucks_22_results['response']\nstarbucks_22_details = json_normalize(starbucks_22) # flatten JSON\n\n#Filter Columns\nfiltered_columns = ['venue.name', 'venue.id', 'venue.location.lat', 'venue.location.lng', 'venue.price.tier', 'venue.likes.count', 'venue.stats.tipCount', 'venue.rating']\nstarbucks_22_details =starbucks_22_details.loc[:, filtered_columns]\n\n#Clean Columns\nstarbucks_22_details.columns = [col.split(\".\")[-1] for col in starbucks_22_details.columns]"
        },
        {
            "cell_type": "code",
            "execution_count": 98,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>id</th>\n      <th>lat</th>\n      <th>lng</th>\n      <th>price_tier</th>\n      <th>likes</th>\n      <th>tip_count</th>\n      <th>rating</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>4ad76597f964a5200e0a21e3</td>\n      <td>40.712204</td>\n      <td>-74.008052</td>\n      <td>1</td>\n      <td>281</td>\n      <td>46</td>\n      <td>7.5</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5bb75d4f9fca56002c7e218b</td>\n      <td>40.714817</td>\n      <td>-74.008242</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>6.8</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5050b1ade4b05606213f5466</td>\n      <td>40.711142</td>\n      <td>-74.004796</td>\n      <td>1</td>\n      <td>6</td>\n      <td>2</td>\n      <td>6.6</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>4a84eb0af964a520e1fd1fe3</td>\n      <td>40.711598</td>\n      <td>-74.006726</td>\n      <td>1</td>\n      <td>301</td>\n      <td>64</td>\n      <td>6.5</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>59831458e679bc7ea5d6f899</td>\n      <td>40.712128</td>\n      <td>-74.010818</td>\n      <td>1</td>\n      <td>15</td>\n      <td>2</td>\n      <td>6.8</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>59b94fdb2ebb346f98fabd4a</td>\n      <td>40.710967</td>\n      <td>-74.000763</td>\n      <td>1</td>\n      <td>5</td>\n      <td>3</td>\n      <td>6.5</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "        name                        id        lat        lng  price_tier  \\\n0  Starbucks  4ad76597f964a5200e0a21e3  40.712204 -74.008052           1   \n0  Starbucks  5bb75d4f9fca56002c7e218b  40.714817 -74.008242           1   \n0  Starbucks  5050b1ade4b05606213f5466  40.711142 -74.004796           1   \n0  Starbucks  4a84eb0af964a520e1fd1fe3  40.711598 -74.006726           1   \n0  Starbucks  59831458e679bc7ea5d6f899  40.712128 -74.010818           1   \n0  Starbucks  59b94fdb2ebb346f98fabd4a  40.710967 -74.000763           1   \n\n   likes  tip_count  rating  \n0    281         46     7.5  \n0      1          0     6.8  \n0      6          2     6.6  \n0    301         64     6.5  \n0     15          2     6.8  \n0      5          3     6.5  "
                    },
                    "execution_count": 98,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Combine Dataframes\n\nny_starbucks_details = [starbucks_5_details, starbucks_15_details, starbucks_16_details, starbucks_17_details, starbucks_20_details, starbucks_22_details ]\nny_starbucks_details = pd.concat(ny_starbucks_details)\n#ny_starbucks_details.set_index('id', inplace=True)\nny_starbucks_details.rename(columns = {'tier': 'price_tier', 'tipCount': 'tip_count', 'count':'likes' }, inplace= True)\n\n#Verify Dataframe\nny_starbucks_details"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "## Results & Discussion"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### First, let's take a look at the results from each city."
        },
        {
            "cell_type": "code",
            "execution_count": 99,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>id</th>\n      <th>lat</th>\n      <th>lng</th>\n      <th>price_tier</th>\n      <th>likes</th>\n      <th>tip_count</th>\n      <th>rating</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>4adf37bdf964a520677821e3</td>\n      <td>47.605054</td>\n      <td>-122.330211</td>\n      <td>1</td>\n      <td>24</td>\n      <td>5</td>\n      <td>7.3</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5c7b51173fffb40025ffd274</td>\n      <td>47.610703</td>\n      <td>-122.333494</td>\n      <td>1</td>\n      <td>2</td>\n      <td>0</td>\n      <td>7.2</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5a0390ff51950e0aa487d16e</td>\n      <td>47.608268</td>\n      <td>-122.338383</td>\n      <td>1</td>\n      <td>2</td>\n      <td>0</td>\n      <td>7.1</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5050c269e4b020e9ae019bf2</td>\n      <td>47.605453</td>\n      <td>-122.330250</td>\n      <td>1</td>\n      <td>5</td>\n      <td>2</td>\n      <td>6.9</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5293a854498e45b5f668644b</td>\n      <td>47.605286</td>\n      <td>-122.334370</td>\n      <td>1</td>\n      <td>22</td>\n      <td>2</td>\n      <td>6.8</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "        name                        id        lat         lng  price_tier  \\\n0  Starbucks  4adf37bdf964a520677821e3  47.605054 -122.330211           1   \n0  Starbucks  5c7b51173fffb40025ffd274  47.610703 -122.333494           1   \n0  Starbucks  5a0390ff51950e0aa487d16e  47.608268 -122.338383           1   \n0  Starbucks  5050c269e4b020e9ae019bf2  47.605453 -122.330250           1   \n0  Starbucks  5293a854498e45b5f668644b  47.605286 -122.334370           1   \n\n   likes  tip_count  rating  \n0     24          5     7.3  \n0      2          0     7.2  \n0      2          0     7.1  \n0      5          2     6.9  \n0     22          2     6.8  "
                    },
                    "execution_count": 99,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Downtown Seattle Starbucks\n\nstarbucks_details"
        },
        {
            "cell_type": "code",
            "execution_count": 100,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>id</th>\n      <th>lat</th>\n      <th>lng</th>\n      <th>price_tier</th>\n      <th>likes</th>\n      <th>tip_count</th>\n      <th>rating</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>4ad76597f964a5200e0a21e3</td>\n      <td>40.712204</td>\n      <td>-74.008052</td>\n      <td>1</td>\n      <td>281</td>\n      <td>46</td>\n      <td>7.5</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5bb75d4f9fca56002c7e218b</td>\n      <td>40.714817</td>\n      <td>-74.008242</td>\n      <td>1</td>\n      <td>1</td>\n      <td>0</td>\n      <td>6.8</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5050b1ade4b05606213f5466</td>\n      <td>40.711142</td>\n      <td>-74.004796</td>\n      <td>1</td>\n      <td>6</td>\n      <td>2</td>\n      <td>6.6</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>4a84eb0af964a520e1fd1fe3</td>\n      <td>40.711598</td>\n      <td>-74.006726</td>\n      <td>1</td>\n      <td>301</td>\n      <td>64</td>\n      <td>6.5</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>59831458e679bc7ea5d6f899</td>\n      <td>40.712128</td>\n      <td>-74.010818</td>\n      <td>1</td>\n      <td>15</td>\n      <td>2</td>\n      <td>6.8</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>59b94fdb2ebb346f98fabd4a</td>\n      <td>40.710967</td>\n      <td>-74.000763</td>\n      <td>1</td>\n      <td>5</td>\n      <td>3</td>\n      <td>6.5</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "        name                        id        lat        lng  price_tier  \\\n0  Starbucks  4ad76597f964a5200e0a21e3  40.712204 -74.008052           1   \n0  Starbucks  5bb75d4f9fca56002c7e218b  40.714817 -74.008242           1   \n0  Starbucks  5050b1ade4b05606213f5466  40.711142 -74.004796           1   \n0  Starbucks  4a84eb0af964a520e1fd1fe3  40.711598 -74.006726           1   \n0  Starbucks  59831458e679bc7ea5d6f899  40.712128 -74.010818           1   \n0  Starbucks  59b94fdb2ebb346f98fabd4a  40.710967 -74.000763           1   \n\n   likes  tip_count  rating  \n0    281         46     7.5  \n0      1          0     6.8  \n0      6          2     6.6  \n0    301         64     6.5  \n0     15          2     6.8  \n0      5          3     6.5  "
                    },
                    "execution_count": 100,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Downtown New York Starbucks\n\nny_starbucks_details"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "#### We can note a few important observations at first glance:\n\n* A similar number of Starbucks stores are in the citys' downtown areas (Seattle n=5, New York n=6)\n* The Downtown New York Starbucks locations have a much higher number of likes and tips than Seattle\n* The rating scores for each city fall around the same number. "
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Let's find out exactly what the engagement rates are for each city:"
        },
        {
            "cell_type": "code",
            "execution_count": 101,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "The average number of likes for a starbucks in Downtown New York is 101.5 and Downtown Seattle is 11.0\n"
                }
            ],
            "source": "print('The average number of likes for a starbucks in Downtown New York is', ny_starbucks_details['likes'].mean(), 'and Downtown Seattle is', starbucks_details['likes'].mean())"
        },
        {
            "cell_type": "code",
            "execution_count": 102,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "The average number of tips in Downtown New York is 19.5 and Downtown Seattle is 1.8\n"
                }
            ],
            "source": "print('The average number of tips in Downtown New York is', ny_starbucks_details['tip_count'].mean(), 'and Downtown Seattle is', starbucks_details['tip_count'].mean())"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "#### Obviously, the population of New York is much higher than Seattle, so this difference is to be expected. Let's normalize these numbers to create a more accurate comparison."
        },
        {
            "cell_type": "code",
            "execution_count": 103,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "Google says that the population of Seattle is 724,745 and New York is 8,700,000.\n"
                }
            ],
            "source": "print('Google says that the population of Seattle is 724,745', 'and New York is 8,700,000.')"
        },
        {
            "cell_type": "code",
            "execution_count": 104,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>name</th>\n      <th>id</th>\n      <th>lat</th>\n      <th>lng</th>\n      <th>price_tier</th>\n      <th>likes</th>\n      <th>tip_count</th>\n      <th>rating</th>\n      <th>normalized_likes</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>4adf37bdf964a520677821e3</td>\n      <td>47.605054</td>\n      <td>-122.330211</td>\n      <td>1</td>\n      <td>24</td>\n      <td>5</td>\n      <td>7.3</td>\n      <td>288.0</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5c7b51173fffb40025ffd274</td>\n      <td>47.610703</td>\n      <td>-122.333494</td>\n      <td>1</td>\n      <td>2</td>\n      <td>0</td>\n      <td>7.2</td>\n      <td>24.0</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5a0390ff51950e0aa487d16e</td>\n      <td>47.608268</td>\n      <td>-122.338383</td>\n      <td>1</td>\n      <td>2</td>\n      <td>0</td>\n      <td>7.1</td>\n      <td>24.0</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5050c269e4b020e9ae019bf2</td>\n      <td>47.605453</td>\n      <td>-122.330250</td>\n      <td>1</td>\n      <td>5</td>\n      <td>2</td>\n      <td>6.9</td>\n      <td>60.0</td>\n    </tr>\n    <tr>\n      <th>0</th>\n      <td>Starbucks</td>\n      <td>5293a854498e45b5f668644b</td>\n      <td>47.605286</td>\n      <td>-122.334370</td>\n      <td>1</td>\n      <td>22</td>\n      <td>2</td>\n      <td>6.8</td>\n      <td>264.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>",
                        "text/plain": "        name                        id        lat         lng  price_tier  \\\n0  Starbucks  4adf37bdf964a520677821e3  47.605054 -122.330211           1   \n0  Starbucks  5c7b51173fffb40025ffd274  47.610703 -122.333494           1   \n0  Starbucks  5a0390ff51950e0aa487d16e  47.608268 -122.338383           1   \n0  Starbucks  5050c269e4b020e9ae019bf2  47.605453 -122.330250           1   \n0  Starbucks  5293a854498e45b5f668644b  47.605286 -122.334370           1   \n\n   likes  tip_count  rating  normalized_likes  \n0     24          5     7.3             288.0  \n0      2          0     7.2              24.0  \n0      2          0     7.1              24.0  \n0      5          2     6.9              60.0  \n0     22          2     6.8             264.0  "
                    },
                    "execution_count": 104,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Normalize the Seattle Likes\n\nstarbucks_details['normalized_likes']=round(starbucks_details['likes']*(8700000/724745))\nstarbucks_details"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "#### Once we normalize the Seattle likes, we can see that the numbers are much more comparable. Let's look at how the averages change. "
        },
        {
            "cell_type": "code",
            "execution_count": 105,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "The average number of likes for a starbucks in Downtown New York is 101.5 and Downtown Seattle is 132.0\n"
                }
            ],
            "source": "print('The average number of likes for a starbucks in Downtown New York is', ny_starbucks_details['likes'].mean(), 'and Downtown Seattle is', starbucks_details['normalized_likes'].mean())"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "#### Wow! Looks like when the population difference is taken into consideration, Seattle received a higher average of likes for its Starbucks locations. I am not going to compare tip_count as this column lacks data, but it can be observed that if you multiplied the Seattle tip_count column by 12 the available numbers would be similar to New York's. \n#### *However, it should be acknowledged that this could be based on a variety of factors. Further anaylsis would be needed to determine what might be influencing this results.*"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Now, let's take compare rating scores."
        },
        {
            "cell_type": "code",
            "execution_count": 106,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "The highest rated Starbucks in Downtown Seattle  is  7.3 and in Downtown New York is 7.5\n"
                }
            ],
            "source": "print('The highest rated Starbucks in Downtown Seattle  is ', starbucks_details['rating'].max(), 'and in Downtown New York is', ny_starbucks_details['rating'].max())"
        },
        {
            "cell_type": "code",
            "execution_count": 107,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "The lowest rated Starbucks in Downtown Seattle is  6.8 and in Downtown New York is 6.5\n"
                }
            ],
            "source": "print('The lowest rated Starbucks in Downtown Seattle is ', starbucks_details['rating'].min(), 'and in Downtown New York is', ny_starbucks_details['rating'].min())"
        },
        {
            "cell_type": "code",
            "execution_count": 108,
            "metadata": {},
            "outputs": [
                {
                    "name": "stdout",
                    "output_type": "stream",
                    "text": "The average rating for Downtown Seattle Starbucks is  7.06 and in Downtown New York is 6.783333333333332\n"
                }
            ],
            "source": "print('The average rating for Downtown Seattle Starbucks is ', starbucks_details['rating'].mean(),'and in Downtown New York is', ny_starbucks_details['rating'].mean())"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Looks like Seattle has a *slightly* higher average rating for its downtown Starbucks locations. "
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### We can draw some visual comparisons from seeing a map of the Starbucks locations in each city.  Seattle first:"
        },
        {
            "cell_type": "code",
            "execution_count": 109,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfOTU0N2E1OGEzNTEzNDJkYzhmN2Y2OWVkZGYxZjZmZTggewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQubWFya2VyY2x1c3Rlci8xLjEuMC9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvMS4xLjAvTWFya2VyQ2x1c3Rlci5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbGVhZmxldC5tYXJrZXJjbHVzdGVyLzEuMS4wL01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MiLz4KPC9oZWFkPgo8Ym9keT4gICAgCiAgICAKICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9saXVtLW1hcCIgaWQ9Im1hcF85NTQ3YTU4YTM1MTM0MmRjOGY3ZjY5ZWRkZjFmNmZlOCIgPjwvZGl2PgogICAgICAgIAo8L2JvZHk+CjxzY3JpcHQ+ICAgIAogICAgCgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBudWxsOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHZhciBtYXBfOTU0N2E1OGEzNTEzNDJkYzhmN2Y2OWVkZGYxZjZmZTggPSBMLm1hcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXBfOTU0N2E1OGEzNTEzNDJkYzhmN2Y2OWVkZGYxZjZmZTgnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NlbnRlcjogWzQ3LjYwNjIsLTEyMi4zMzIxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDE1LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Qm91bmRzOiBib3VuZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRDb3B5SnVtcDogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcnM6IEwuQ1JTLkVQU0czODU3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgdGlsZV9sYXllcl9iNDEzOGZkMzdjYWU0MjUzODUxNjkzZDVjMDFlNzcxZCA9IEwudGlsZUxheWVyKAogICAgICAgICAgICAgICAgJ2h0dHBzOi8vc3RhbWVuLXRpbGVzLXtzfS5hLnNzbC5mYXN0bHkubmV0L3RvbmVyL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfOTU0N2E1OGEzNTEzNDJkYzhmN2Y2OWVkZGYxZjZmZTgpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBtYXJrZXJfY2x1c3Rlcl8xNjIwMjA0MmQyZjg0YWFkODY5ZjMxN2Y4ZGEyY2E3NyA9IEwubWFya2VyQ2x1c3Rlckdyb3VwKHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbWFwXzk1NDdhNThhMzUxMzQyZGM4ZjdmNjllZGRmMWY2ZmU4LmFkZExheWVyKG1hcmtlcl9jbHVzdGVyXzE2MjAyMDQyZDJmODRhYWQ4NjlmMzE3ZjhkYTJjYTc3KTsKICAgICAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfZTU4YTAyZjZmNTk4NGFmNmJlYTBjNzFiN2MyYWEzOWYgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDUwNTQsLTEyMi4zMzAyMTFdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzE2MjAyMDQyZDJmODRhYWQ4NjlmMzE3ZjhkYTJjYTc3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUzM2Y5NGEyYTRmZDRhNmFiNDFlMTUwMmMyYzk2NWU2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIyMGExYzBmYjc4NTQ5OWNhNDVmNjg5MTVhMWQyMDU0ID0gJCgnPGRpdiBpZD0iaHRtbF8yMjBhMWMwZmI3ODU0OTljYTQ1ZjY4OTE1YTFkMjA1NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NGFkZjM3YmRmOTY0YTUyMDY3NzgyMWUzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81MzNmOTRhMmE0ZmQ0YTZhYjQxZTE1MDJjMmM5NjVlNi5zZXRDb250ZW50KGh0bWxfMjIwYTFjMGZiNzg1NDk5Y2E0NWY2ODkxNWExZDIwNTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl9lNThhMDJmNmY1OTg0YWY2YmVhMGM3MWI3YzJhYTM5Zi5iaW5kUG9wdXAocG9wdXBfNTMzZjk0YTJhNGZkNGE2YWI0MWUxNTAyYzJjOTY1ZTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMWQyNTY3YTg2YTg3NDFkZjhlMTgyMmUzOGZiNWUwZDggPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MTA3MDMsLTEyMi4zMzM0OTRdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzE2MjAyMDQyZDJmODRhYWQ4NjlmMzE3ZjhkYTJjYTc3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QzYWU1MmQ5Y2Y4MjRlODJiMDFlOGEzMjkwNjRjMGY5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg0NDAwNTFlMjI5MTRkZTFiNzkwMjlhZmMxMzMxMzBkID0gJCgnPGRpdiBpZD0iaHRtbF84NDQwMDUxZTIyOTE0ZGUxYjc5MDI5YWZjMTMzMTMwZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NWM3YjUxMTczZmZmYjQwMDI1ZmZkMjc0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kM2FlNTJkOWNmODI0ZTgyYjAxZThhMzI5MDY0YzBmOS5zZXRDb250ZW50KGh0bWxfODQ0MDA1MWUyMjkxNGRlMWI3OTAyOWFmYzEzMzEzMGQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8xZDI1NjdhODZhODc0MWRmOGUxODIyZTM4ZmI1ZTBkOC5iaW5kUG9wdXAocG9wdXBfZDNhZTUyZDljZjgyNGU4MmIwMWU4YTMyOTA2NGMwZjkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMjRiNjdiYzcyZmZmNDFjZWFjZThkMTZhOTU0YTI2ZTIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDgyNjgsLTEyMi4zMzgzODNdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzE2MjAyMDQyZDJmODRhYWQ4NjlmMzE3ZjhkYTJjYTc3KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNiOWRjYjk2NjczNzQ0NzJiNmM4OTU1YmM1MTM2Y2M5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2YwYzdiYzkzMWQ3ODRlOTU4ZDkyYzY4YmFlODdkMWM2ID0gJCgnPGRpdiBpZD0iaHRtbF9mMGM3YmM5MzFkNzg0ZTk1OGQ5MmM2OGJhZTg3ZDFjNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NWEwMzkwZmY1MTk1MGUwYWE0ODdkMTZlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zYjlkY2I5NjY3Mzc0NDcyYjZjODk1NWJjNTEzNmNjOS5zZXRDb250ZW50KGh0bWxfZjBjN2JjOTMxZDc4NGU5NThkOTJjNjhiYWU4N2QxYzYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8yNGI2N2JjNzJmZmY0MWNlYWNlOGQxNmE5NTRhMjZlMi5iaW5kUG9wdXAocG9wdXBfM2I5ZGNiOTY2NzM3NDQ3MmI2Yzg5NTViYzUxMzZjYzkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfMzllNWE1OWM4ZGI5NDIyZGIxNDIwZTNiYmY3NjRjYmIgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0Ny42MDU0NTMsLTEyMi4zMzAyNV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMTYyMDIwNDJkMmY4NGFhZDg2OWYzMTdmOGRhMmNhNzcpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjU5Nzk4MTY4YTE0NDY2YWIwNzg4ZTcwYTQ1MzljYjEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWMzMjk1YTRmMWUxNGNkNjk1ZGYxM2ZmN2I1ZDFhMWYgPSAkKCc8ZGl2IGlkPSJodG1sXzFjMzI5NWE0ZjFlMTRjZDY5NWRmMTNmZjdiNWQxYTFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij41MDUwYzI2OWU0YjAyMGU5YWUwMTliZjI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI1OTc5ODE2OGExNDQ2NmFiMDc4OGU3MGE0NTM5Y2IxLnNldENvbnRlbnQoaHRtbF8xYzMyOTVhNGYxZTE0Y2Q2OTVkZjEzZmY3YjVkMWExZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzM5ZTVhNTljOGRiOTQyMmRiMTQyMGUzYmJmNzY0Y2JiLmJpbmRQb3B1cChwb3B1cF8yNTk3OTgxNjhhMTQ0NjZhYjA3ODhlNzBhNDUzOWNiMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAoKICAgICAgICAgICAgdmFyIG1hcmtlcl8zYmYzMGNiMWYyNDA0M2QxYWZkYzQ2MmVmZmVjOThmYSA9IEwubWFya2VyKAogICAgICAgICAgICAgICAgWzQ3LjYwNTI4NiwtMTIyLjMzNDM3XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8xNjIwMjA0MmQyZjg0YWFkODY5ZjMxN2Y4ZGEyY2E3Nyk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81ZTUzMWQ1NjE2MzA0YmU3OGFkOTRlOTBjNTNlMjU2NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hNmJkYjJhODY4NWY0NWY1Yjk0MGEyNWQxZmZlMGJkMCA9ICQoJzxkaXYgaWQ9Imh0bWxfYTZiZGIyYTg2ODVmNDVmNWI5NDBhMjVkMWZmZTBiZDAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjUyOTNhODU0NDk4ZTQ1YjVmNjY4NjQ0YjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWU1MzFkNTYxNjMwNGJlNzhhZDk0ZTkwYzUzZTI1NjYuc2V0Q29udGVudChodG1sX2E2YmRiMmE4Njg1ZjQ1ZjViOTQwYTI1ZDFmZmUwYmQwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfM2JmMzBjYjFmMjQwNDNkMWFmZGM0NjJlZmZlYzk4ZmEuYmluZFBvcHVwKHBvcHVwXzVlNTMxZDU2MTYzMDRiZTc4YWQ5NGU5MGM1M2UyNTY2KTsKCiAgICAgICAgICAgIAogICAgICAgIAo8L3NjcmlwdD4= onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>",
                        "text/plain": "<folium.folium.Map at 0x7fa5aab860f0>"
                    },
                    "execution_count": 109,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Map of Seattle\nstarbucks_seattle_map = folium.Map(location=[47.6062, -122.3321], tiles='Stamen Toner', zoom_start=15)\n\n#Instantiate a mark cluster object for the Starbucks stores in the dataframe\nstarbucks = folium.plugins.MarkerCluster().add_to(starbucks_seattle_map)\n\n#Loop through the dataframe and add each data point to the mark cluster\nfor lat, lng, label, in zip(starbucks_details.lat, starbucks_details.lng, starbucks_details.id): #I'm using the stores' id to label them\n    folium.Marker(\n        location=[lat, lng],\n        icon=None,\n        popup=folium.Popup(label, parse_html=True)\n    ).add_to(starbucks)\n\n#Display map\nstarbucks_seattle_map"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "### Now, New York:"
        },
        {
            "cell_type": "code",
            "execution_count": 110,
            "metadata": {},
            "outputs": [
                {
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"about:blank\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfMzIwZDQyMWM1YmEwNGE3NTg0M2I1ZjA1ODVkYmRmNGQgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQubWFya2VyY2x1c3Rlci8xLjEuMC9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9sZWFmbGV0Lm1hcmtlcmNsdXN0ZXIvMS4xLjAvTWFya2VyQ2x1c3Rlci5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvbGVhZmxldC5tYXJrZXJjbHVzdGVyLzEuMS4wL01hcmtlckNsdXN0ZXIuRGVmYXVsdC5jc3MiLz4KPC9oZWFkPgo8Ym9keT4gICAgCiAgICAKICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9saXVtLW1hcCIgaWQ9Im1hcF8zMjBkNDIxYzViYTA0YTc1ODQzYjVmMDU4NWRiZGY0ZCIgPjwvZGl2PgogICAgICAgIAo8L2JvZHk+CjxzY3JpcHQ+ICAgIAogICAgCgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBudWxsOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHZhciBtYXBfMzIwZDQyMWM1YmEwNGE3NTg0M2I1ZjA1ODVkYmRmNGQgPSBMLm1hcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXBfMzIwZDQyMWM1YmEwNGE3NTg0M2I1ZjA1ODVkYmRmNGQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NlbnRlcjogWzQwLjcxMjgsLTc0LjAwNl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxNiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfZGU5ZGUwMWRlODFkNGRmNTk4ZDhmYzE0ZWI2MTc5ZWEgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3N0YW1lbi10aWxlcy17c30uYS5zc2wuZmFzdGx5Lm5ldC90b25lci97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzMyMGQ0MjFjNWJhMDRhNzU4NDNiNWYwNTg1ZGJkZjRkKTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFya2VyX2NsdXN0ZXJfMDg2ZDIxMDAzYjRjNDMzNjlmMmE0OGY3ODc0YThlODMgPSBMLm1hcmtlckNsdXN0ZXJHcm91cCh7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIG1hcF8zMjBkNDIxYzViYTA0YTc1ODQzYjVmMDU4NWRiZGY0ZC5hZGRMYXllcihtYXJrZXJfY2x1c3Rlcl8wODZkMjEwMDNiNGM0MzM2OWYyYTQ4Zjc4NzRhOGU4Myk7CiAgICAgICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyX2VhNjA3N2VkNTVmMjRjNmJiNDllYjgzYjRkZGYxNjUyID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEyMjAzODgsLTc0LjAwODA1MTkyXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8wODZkMjEwMDNiNGM0MzM2OWYyYTQ4Zjc4NzRhOGU4Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mNmQzZjM3NWY3Y2I0MzY0ODY2OTkxN2Y2NmM5OWI1ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lYzc2MWNjMzc1OTA0YmU0YWRiNjhiOGQzZThhNjcxOSA9ICQoJzxkaXYgaWQ9Imh0bWxfZWM3NjFjYzM3NTkwNGJlNGFkYjY4YjhkM2U4YTY3MTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjRhZDc2NTk3Zjk2NGE1MjAwZTBhMjFlMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjZkM2YzNzVmN2NiNDM2NDg2Njk5MTdmNjZjOTliNWUuc2V0Q29udGVudChodG1sX2VjNzYxY2MzNzU5MDRiZTRhZGI2OGI4ZDNlOGE2NzE5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfZWE2MDc3ZWQ1NWYyNGM2YmI0OWViODNiNGRkZjE2NTIuYmluZFBvcHVwKHBvcHVwX2Y2ZDNmMzc1ZjdjYjQzNjQ4NjY5OTE3ZjY2Yzk5YjVlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzIzZTVjY2RiYjkyOTRjMTBiY2JlYzcyNmY2ZjM1NzBiID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzE0ODE3LC03NC4wMDgyNDJdLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb246IG5ldyBMLkljb24uRGVmYXVsdCgpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcmtlcl9jbHVzdGVyXzA4NmQyMTAwM2I0YzQzMzY5ZjJhNDhmNzg3NGE4ZTgzKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2YwMjdjYjU0YWM1MjQxYjVhYTZiYzgwNjMwNzNjM2YyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVjMjUzOWNiYTEyYjQ0MWQ5M2E5YjZlNTAwNDNiODE4ID0gJCgnPGRpdiBpZD0iaHRtbF81YzI1MzljYmExMmI0NDFkOTNhOWI2ZTUwMDQzYjgxOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NWJiNzVkNGY5ZmNhNTYwMDJjN2UyMThiPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mMDI3Y2I1NGFjNTI0MWI1YWE2YmM4MDYzMDczYzNmMi5zZXRDb250ZW50KGh0bWxfNWMyNTM5Y2JhMTJiNDQxZDkzYTliNmU1MDA0M2I4MTgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIG1hcmtlcl8yM2U1Y2NkYmI5Mjk0YzEwYmNiZWM3MjZmNmYzNTcwYi5iaW5kUG9wdXAocG9wdXBfZjAyN2NiNTRhYzUyNDFiNWFhNmJjODA2MzA3M2MzZjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKCiAgICAgICAgICAgIHZhciBtYXJrZXJfOTg4ZTRlNjk0ZjYzNDdmN2I2MWRkOGNjNjcwODczYTcgPSBMLm1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43MTExNDE3MDkxOTI4MTYsLTc0LjAwNDc5NjEwMzUxODE1XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8wODZkMjEwMDNiNGM0MzM2OWYyYTQ4Zjc4NzRhOGU4Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NjE2ZTg3YWM1NzY0ZTg0ODk0ODU0ZDNlN2FjOWNlMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80Y2JjYjRhYzVhNjY0NGFiOGJkNDg2ZjhjMmE4ZjliNiA9ICQoJzxkaXYgaWQ9Imh0bWxfNGNiY2I0YWM1YTY2NDRhYjhiZDQ4NmY4YzJhOGY5YjYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjUwNTBiMWFkZTRiMDU2MDYyMTNmNTQ2NjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTYxNmU4N2FjNTc2NGU4NDg5NDg1NGQzZTdhYzljZTIuc2V0Q29udGVudChodG1sXzRjYmNiNGFjNWE2NjQ0YWI4YmQ0ODZmOGMyYThmOWI2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfOTg4ZTRlNjk0ZjYzNDdmN2I2MWRkOGNjNjcwODczYTcuYmluZFBvcHVwKHBvcHVwXzk2MTZlODdhYzU3NjRlODQ4OTQ4NTRkM2U3YWM5Y2UyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzIzMzNiNjdlZTM2ZTRmMjRhOGUwZThjY2Q4ZjJkOWQ2ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzExNTk3NTYsLTc0LjAwNjcyNjI2XSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8wODZkMjEwMDNiNGM0MzM2OWYyYTQ4Zjc4NzRhOGU4Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mM2U2YjI5OTFlNzc0ZTk3OWIzYzIyODg3MDY4MzFhYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NzIwNGIyYmViMDc0NjkzYmE4Y2I2YjIwOWUzOWZmNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNzcyMDRiMmJlYjA3NDY5M2JhOGNiNmIyMDllMzlmZjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjRhODRlYjBhZjk2NGE1MjBlMWZkMWZlMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjNlNmIyOTkxZTc3NGU5NzliM2MyMjg4NzA2ODMxYWMuc2V0Q29udGVudChodG1sXzc3MjA0YjJiZWIwNzQ2OTNiYThjYjZiMjA5ZTM5ZmY0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfMjMzM2I2N2VlMzZlNGYyNGE4ZTBlOGNjZDhmMmQ5ZDYuYmluZFBvcHVwKHBvcHVwX2YzZTZiMjk5MWU3NzRlOTc5YjNjMjI4ODcwNjgzMWFjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzQwNTJhOGQyMmEzZTRkNjZiMzQ5OWZjOGJiN2VlZmI0ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEyMTI4MTIxMTM1NzIsLTc0LjAxMDgxODM2NDM4MDAxXSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uOiBuZXcgTC5JY29uLkRlZmF1bHQoKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXJrZXJfY2x1c3Rlcl8wODZkMjEwMDNiNGM0MzM2OWYyYTQ4Zjc4NzRhOGU4Myk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yMGEyZTdhN2Y3ZTk0YWNlOThmMGY3NTAxYTliN2U2NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NDY5MzlhYzkzM2I0MTk2OGQ1OTU2NDBhYmEzZDNlNyA9ICQoJzxkaXYgaWQ9Imh0bWxfNjQ2OTM5YWM5MzNiNDE5NjhkNTk1NjQwYWJhM2QzZTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU5ODMxNDU4ZTY3OWJjN2VhNWQ2Zjg5OTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjBhMmU3YTdmN2U5NGFjZTk4ZjBmNzUwMWE5YjdlNjYuc2V0Q29udGVudChodG1sXzY0NjkzOWFjOTMzYjQxOTY4ZDU5NTY0MGFiYTNkM2U3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBtYXJrZXJfNDA1MmE4ZDIyYTNlNGQ2NmIzNDk5ZmM4YmI3ZWVmYjQuYmluZFBvcHVwKHBvcHVwXzIwYTJlN2E3ZjdlOTRhY2U5OGYwZjc1MDFhOWI3ZTY2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCgogICAgICAgICAgICB2YXIgbWFya2VyXzEzOTI1MDNlMzhiZjRmMzc4ZDkxNDgzYjRhNjcyODM1ID0gTC5tYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzEwOTY3MjI0ODYxNzc2LC03NC4wMDA3NjMyNjM1Njc4NV0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbjogbmV3IEwuSWNvbi5EZWZhdWx0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFya2VyX2NsdXN0ZXJfMDg2ZDIxMDAzYjRjNDMzNjlmMmE0OGY3ODc0YThlODMpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjRkODBiMWNmNDBkNDIwYTgwZDNmNGFkYTkzNGVhZTIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTgxZWYzNmYzODYzNDVjNGFmOTYxZGE2M2Y0NzZhYTMgPSAkKCc8ZGl2IGlkPSJodG1sXzE4MWVmMzZmMzg2MzQ1YzRhZjk2MWRhNjNmNDc2YWEzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij41OWI5NGZkYjJlYmIzNDZmOThmYWJkNGE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI0ZDgwYjFjZjQwZDQyMGE4MGQzZjRhZGE5MzRlYWUyLnNldENvbnRlbnQoaHRtbF8xODFlZjM2ZjM4NjM0NWM0YWY5NjFkYTYzZjQ3NmFhMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgbWFya2VyXzEzOTI1MDNlMzhiZjRmMzc4ZDkxNDgzYjRhNjcyODM1LmJpbmRQb3B1cChwb3B1cF8yNGQ4MGIxY2Y0MGQ0MjBhODBkM2Y0YWRhOTM0ZWFlMik7CgogICAgICAgICAgICAKICAgICAgICAKPC9zY3JpcHQ+ onload=\"this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>",
                        "text/plain": "<folium.folium.Map at 0x7fa5aab6ea20>"
                    },
                    "execution_count": 110,
                    "metadata": {},
                    "output_type": "execute_result"
                }
            ],
            "source": "#Map of New York\nstarbucks_ny_map = folium.Map(location=[40.7128, -74.0060], tiles='Stamen Toner', zoom_start=16)\n\n#Instantiate a mark cluster object for the Starbucks locations in the dataframe\nstarbucks_ny = folium.plugins.MarkerCluster().add_to(starbucks_ny_map)\n\n#Loop through the dataframe and add each data point to the mark cluster\nfor lat, lng, label, in zip(ny_starbucks_details.lat, ny_starbucks_details.lng, ny_starbucks_details.id): #I'm using the stores' id to label them\n    folium.Marker(\n        location=[lat, lng],\n        icon=None,\n        popup=folium.Popup(label, parse_html=True)\n    ).add_to(starbucks_ny)\n\n#Display map\nstarbucks_ny_map"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "## Conclusion "
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "Looks like WalletHub's findings hold true.\n\nIn short, we can let Starbucks' stakeholders know that when looking at the outlined variables, **Downtown Seattle** has the better Starbucks locations of the two cities. Stakeholders may want to use this insight to apply the successful strategies of Downtown Seattle stores to its Downtown New York locations. \n\nBy using the Foursquare data to calculate the average likes, tip_counts, and rating, we found that the averages between the two, once normalized, were slightly higher for Seattle. \n\nOverall, the comparison between the cities was fairly similar. Here are some considerations for further analysis beyond the scope of this project:\n\n* Stakeholders may use the results of this project to locate their best and worst rated stores. This information may be relative to the store placement, management, staffing, time of year, and other variables that commonly influence store performance and public perception. \n* Looking at this data across a time period may provide valuable insight into data patterns and highlight external variables that are influencing store performance and perception.\n* While a commonly known brand was chosen, it may be interesting to compare engagement/ratings with other large coffee brands and local craft coffee shops. This could even be expanded to look at other areas of the coffee market, such as coffee roasteries. \n* Foursquare's data is mostly user-generated, which is susceptible to its user base. Comparing Foursquare's data with other available data sources may provide important insight. \n"
        },
        {
            "cell_type": "markdown",
            "metadata": {},
            "source": "## Thanks for reading! Now its time for coffee..."
        },
        {
            "cell_type": "code",
            "execution_count": null,
            "metadata": {},
            "outputs": [],
            "source": ""
        }
    ],
    "metadata": {
        "kernelspec": {
            "display_name": "Python 3.6",
            "language": "python",
            "name": "python3"
        },
        "language_info": {
            "codemirror_mode": {
                "name": "ipython",
                "version": 3
            },
            "file_extension": ".py",
            "mimetype": "text/x-python",
            "name": "python",
            "nbconvert_exporter": "python",
            "pygments_lexer": "ipython3",
            "version": "3.6.9"
        }
    },
    "nbformat": 4,
    "nbformat_minor": 1
}